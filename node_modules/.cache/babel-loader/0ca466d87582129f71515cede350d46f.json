{"remainingRequest":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\babel-loader\\lib\\index.js!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\src\\store\\modules\\auth.js","dependencies":[{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\src\\store\\modules\\auth.js","mtime":1730447401966},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\babel-loader\\lib\\index.js","mtime":1730447645019},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\eslint-loader\\index.js","mtime":1730447644407}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBBdXRoZW50aWNhdGlvblNlcnZpY2UgZnJvbSAnQC9zZXJ2aWNlcy9BdXRoZW50aWNhdGlvblNlcnZpY2UnOwp2YXIgc3RhdGUgPSB7CiAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwKICB0b2tlbjogbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJykgfHwgbnVsbCwKICB1c2VyOiBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJykpIHx8IG51bGwsCiAgaXNVc2VyTG9nZ2VkSW46IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0b2tlbicpIHx8IGZhbHNlCn07CnZhciBnZXR0ZXJzID0gewogIGdldFVybDogZnVuY3Rpb24gZ2V0VXJsKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXJsOwogIH0sCiAgaXNBdXRoZW50aWNhdGVkOiBmdW5jdGlvbiBpc0F1dGhlbnRpY2F0ZWQoc3RhdGUpIHsKICAgIHJldHVybiBzdGF0ZS5pc1VzZXJMb2dnZWRJbjsKICB9LAogIGdldFRva2VuOiBmdW5jdGlvbiBnZXRUb2tlbihzdGF0ZSkgewogICAgcmV0dXJuIHN0YXRlLnRva2VuOwogIH0sCiAgY3VycmVudFVzZXI6IGZ1bmN0aW9uIGN1cnJlbnRVc2VyKHN0YXRlKSB7CiAgICByZXR1cm4gc3RhdGUudXNlcjsKICB9Cn07CnZhciBtdXRhdGlvbnMgPSB7CiAgU0VUX1RPS0VOOiBmdW5jdGlvbiBTRVRfVE9LRU4oc3RhdGUsIHRva2VuKSB7CiAgICBzdGF0ZS50b2tlbiA9IHRva2VuOwoKICAgIGlmICh0b2tlbikgewogICAgICBzdGF0ZS5pc1VzZXJMb2dnZWRJbiA9IHRydWU7CiAgICB9IGVsc2UgewogICAgICBzdGF0ZS5pc1VzZXJMb2dnZWRJbiA9IGZhbHNlOwogICAgfQogIH0sCiAgU0VUX1VTRVJfREFUQTogZnVuY3Rpb24gU0VUX1VTRVJfREFUQShzdGF0ZSwgZGF0YSkgewogICAgc3RhdGUudXNlciA9IGRhdGE7CiAgfSwKICBDTEVBUl9BVVRIOiBmdW5jdGlvbiBDTEVBUl9BVVRIKHN0YXRlKSB7CiAgICBzdGF0ZS50b2tlbiA9IG51bGw7CiAgICBzdGF0ZS51c2VyID0gbnVsbDsKICAgIHN0YXRlLmlzVXNlckxvZ2dlZEluID0gZmFsc2U7CiAgfQp9Owp2YXIgYWN0aW9ucyA9IHsKICBzaWduVXA6IGZ1bmN0aW9uIHNpZ25VcChfcmVmLCBjcmVkZW50aWFscykgewogICAgdmFyIGNvbW1pdCA9IF9yZWYuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgQXV0aGVudGljYXRpb25TZXJ2aWNlLnNpZ25VcChjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoX3JlZjIpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWYyLmRhdGE7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBkYXRhLnRva2VuKTsKICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndG9rZW4nLCBkYXRhLnRva2VuKTsKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgc2lnbkluOiBmdW5jdGlvbiBzaWduSW4oX3JlZjMsIGNyZWRlbnRpYWxzKSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsKICAgICAgQXV0aGVudGljYXRpb25TZXJ2aWNlLnNpZ25JbihjcmVkZW50aWFscykudGhlbihmdW5jdGlvbiAoX3JlZjQpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY0LmRhdGE7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3Rva2VuJywgZGF0YS50b2tlbik7CiAgICAgICAgY29tbWl0KCdTRVRfVE9LRU4nLCBkYXRhLnRva2VuKTsKICAgICAgICByZXNvbHZlKGRhdGEpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpOwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgZ2V0Q3VycmVudFVzZXI6IGZ1bmN0aW9uIGdldEN1cnJlbnRVc2VyKF9yZWY1LCB0b2tlbikgewogICAgdmFyIGNvbW1pdCA9IF9yZWY1LmNvbW1pdDsKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7CiAgICAgIEF1dGhlbnRpY2F0aW9uU2VydmljZS5tZSh0b2tlbikudGhlbihmdW5jdGlvbiAoX3JlZjYpIHsKICAgICAgICB2YXIgZGF0YSA9IF9yZWY2LmRhdGE7CiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3VzZXInLCBKU09OLnN0cmluZ2lmeShkYXRhLmRhdGEpKTsKICAgICAgICBjb21taXQoJ1NFVF9VU0VSX0RBVEEnLCBkYXRhLmRhdGEpOwogICAgICAgIHJlc29sdmUoZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7CiAgICAgIH0pOwogICAgfSk7CiAgfSwKICBzaWduT3V0OiBmdW5jdGlvbiBzaWduT3V0KF9yZWY3KSB7CiAgICB2YXIgY29tbWl0ID0gX3JlZjcuY29tbWl0OwogICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgndXNlcicpOwogICAgY29tbWl0KCdDTEVBUl9BVVRIJyk7CiAgfQp9OwpleHBvcnQgZGVmYXVsdCB7CiAgc3RhdGU6IHN0YXRlLAogIGdldHRlcnM6IGdldHRlcnMsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucwp9Ow=="},{"version":3,"sources":["D:/Kampus/SEMESTER 5/PBKK/vue-nodejs-youtube-clone/src/store/modules/auth.js"],"names":["AuthenticationService","state","url","process","env","VUE_APP_URL","token","localStorage","getItem","user","JSON","parse","isUserLoggedIn","getters","getUrl","isAuthenticated","getToken","currentUser","mutations","SET_TOKEN","SET_USER_DATA","data","CLEAR_AUTH","actions","signUp","credentials","commit","Promise","resolve","reject","then","setItem","catch","err","signIn","getCurrentUser","me","stringify","signOut","removeItem"],"mappings":"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","sourcesContent":["import AuthenticationService from '@/services/AuthenticationService'\r\n\r\nconst state = {\r\n  url: process.env.VUE_APP_URL,\r\n  token: localStorage.getItem('token') || null,\r\n  user: JSON.parse(localStorage.getItem('user')) || null,\r\n  isUserLoggedIn: localStorage.getItem('token') || false\r\n}\r\n\r\nconst getters = {\r\n  getUrl: (state) => {\r\n    return state.url\r\n  },\r\n  isAuthenticated: (state) => {\r\n    return state.isUserLoggedIn\r\n  },\r\n  getToken: (state) => {\r\n    return state.token\r\n  },\r\n  currentUser: (state) => {\r\n    return state.user\r\n  }\r\n}\r\n\r\nconst mutations = {\r\n  SET_TOKEN(state, token) {\r\n    state.token = token\r\n    if (token) {\r\n      state.isUserLoggedIn = true\r\n    } else {\r\n      state.isUserLoggedIn = false\r\n    }\r\n  },\r\n  SET_USER_DATA(state, data) {\r\n    state.user = data\r\n  },\r\n  CLEAR_AUTH(state) {\r\n    state.token = null\r\n    state.user = null\r\n    state.isUserLoggedIn = false\r\n  }\r\n}\r\n\r\nconst actions = {\r\n  signUp({ commit }, credentials) {\r\n    return new Promise((resolve, reject) => {\r\n      AuthenticationService.signUp(credentials)\r\n        .then(({ data }) => {\r\n          commit('SET_TOKEN', data.token)\r\n          localStorage.setItem('token', data.token)\r\n          resolve(data)\r\n        })\r\n        .catch((err) => reject(err))\r\n    })\r\n  },\r\n  signIn({ commit }, credentials) {\r\n    return new Promise((resolve, reject) => {\r\n      AuthenticationService.signIn(credentials)\r\n        .then(({ data }) => {\r\n          localStorage.setItem('token', data.token)\r\n          commit('SET_TOKEN', data.token)\r\n\r\n          resolve(data)\r\n        })\r\n        .catch((err) => reject(err))\r\n    })\r\n  },\r\n  getCurrentUser({ commit }, token) {\r\n    return new Promise((resolve, reject) => {\r\n      AuthenticationService.me(token)\r\n        .then(({ data }) => {\r\n          localStorage.setItem('user', JSON.stringify(data.data))\r\n          commit('SET_USER_DATA', data.data)\r\n          resolve(data)\r\n        })\r\n        .catch((err) => reject(err))\r\n    })\r\n  },\r\n  signOut({ commit }) {\r\n    localStorage.removeItem('token')\r\n    localStorage.removeItem('user')\r\n    commit('CLEAR_AUTH')\r\n  }\r\n}\r\n\r\nexport default {\r\n  state,\r\n  getters,\r\n  mutations,\r\n  actions\r\n}\r\n"]}]}