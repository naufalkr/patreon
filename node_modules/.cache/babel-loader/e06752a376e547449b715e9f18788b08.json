{"remainingRequest":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\babel-loader\\lib\\index.js!D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\src\\services\\Api.js","dependencies":[{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\src\\services\\Api.js","mtime":1730447401964},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1730447645019},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\eslint-loader\\index.js","mtime":1730447644407}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoKSB7CiAgdmFyIGF4aW9zSW5zdGFuY2UgPSBheGlvcy5jcmVhdGUoewogICAgYmFzZVVSTDogIiIuY29uY2F0KHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLCAiL2FwaS92MSIpCiAgfSk7CiAgdmFyIHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7CgogIGlmICh0b2tlbikgewogICAgYXhpb3NJbnN0YW5jZS5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vbi5BdXRob3JpemF0aW9uID0gIkJlYXJlciAiLmNvbmNhdCh0b2tlbik7CiAgfQoKICBheGlvc0luc3RhbmNlLmludGVyY2VwdG9ycy5yZXNwb25zZS51c2UoZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICByZXR1cm4gcmVzcG9uc2U7CiAgfSwgZnVuY3Rpb24gKGVycm9yKSB7CiAgICBpZiAoZXJyb3IucmVzcG9uc2Uuc3RhdHVzID09PSA0MDEpIHsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oJ3Rva2VuJyk7CiAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCd1c2VyJyk7CiAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgfQoKICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnJvcik7CiAgfSk7CiAgcmV0dXJuIGF4aW9zSW5zdGFuY2U7Cn0pOw=="},{"version":3,"sources":["D:/Kampus/SEMESTER 5/PBKK/patreon-vue/src/services/Api.js"],"names":["axios","axiosInstance","create","baseURL","process","env","VUE_APP_URL","token","localStorage","getItem","defaults","headers","common","Authorization","interceptors","response","use","error","status","removeItem","location","reload","Promise","reject"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,gBAAe,YAAM;AACnB,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAAN,CAAa;AACjCC,IAAAA,OAAO,YAAKC,OAAO,CAACC,GAAR,CAAYC,WAAjB;AAD0B,GAAb,CAAtB;AAIA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAb,CAAqB,OAArB,CAAd;;AACA,MAAIF,KAAJ,EAAW;AACTN,IAAAA,aAAa,CAACS,QAAd,CAAuBC,OAAvB,CAA+BC,MAA/B,CAAsCC,aAAtC,oBAAgEN,KAAhE;AACD;;AAEDN,EAAAA,aAAa,CAACa,YAAd,CAA2BC,QAA3B,CAAoCC,GAApC,CACE,UAACD,QAAD;AAAA,WAAcA,QAAd;AAAA,GADF,EAEE,UAACE,KAAD,EAAW;AACT,QAAIA,KAAK,CAACF,QAAN,CAAeG,MAAf,KAA0B,GAA9B,EAAmC;AACjCV,MAAAA,YAAY,CAACW,UAAb,CAAwB,OAAxB;AACAX,MAAAA,YAAY,CAACW,UAAb,CAAwB,MAAxB;AACAC,MAAAA,QAAQ,CAACC,MAAT;AACD;;AACD,WAAOC,OAAO,CAACC,MAAR,CAAeN,KAAf,CAAP;AACD,GATH;AAYA,SAAOhB,aAAP;AACD,CAvBD","sourcesContent":["import axios from 'axios'\r\n\r\nexport default () => {\r\n  const axiosInstance = axios.create({\r\n    baseURL: `${process.env.VUE_APP_URL}/api/v1`\r\n  })\r\n\r\n  const token = localStorage.getItem('token')\r\n  if (token) {\r\n    axiosInstance.defaults.headers.common.Authorization = `Bearer ${token}`\r\n  }\r\n\r\n  axiosInstance.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n      if (error.response.status === 401) {\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('user')\r\n        location.reload()\r\n      }\r\n      return Promise.reject(error)\r\n    }\r\n  )\r\n\r\n  return axiosInstance\r\n}\r\n"]}]}