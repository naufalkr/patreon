{"remainingRequest":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\babel-loader\\lib\\index.js!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vuetify-loader\\lib\\loader.js??ref--18-0!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\src\\views\\Watch.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\src\\views\\Watch.vue","mtime":1730447401970},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\babel-loader\\lib\\index.js","mtime":1730447645019},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1730447647589},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vue-loader\\lib\\index.js","mtime":1730447647010}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc2xpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRvLXN0cmluZyI7CmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAiRDpcXEthbXB1c1xcU0VNRVNURVIgNVxcUEJLS1xcdnVlLW5vZGVqcy15b3V0dWJlLWNsb25lXFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6XFxLYW1wdXNcXFNFTUVTVEVSIDVcXFBCS0tcXHZ1ZS1ub2RlanMteW91dHViZS1jbG9uZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIkQ6XFxLYW1wdXNcXFNFTUVTVEVSIDVcXFBCS0tcXHZ1ZS1ub2RlanMteW91dHViZS1jbG9uZVxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50JzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwppbXBvcnQgSW5maW5pdGVMb2FkaW5nIGZyb20gJ3Z1ZS1pbmZpbml0ZS1sb2FkaW5nJzsKaW1wb3J0IFZpZGVvU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL1ZpZGVvU2VydmljZSc7CmltcG9ydCBTdWJzY3JpcHRpb25TZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvU3Vic2NyaXB0aW9uU2VydmljZSc7CmltcG9ydCBGZWVsaW5nU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0ZlZWxpbmdTZXJ2aWNlJzsKaW1wb3J0IEhpc3RvcnlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvSGlzdG9yeVNlcnZpY2UnOwppbXBvcnQgU2lnbmluTW9kYWwgZnJvbSAnQC9jb21wb25lbnRzL1NpZ25pbk1vZGFsJzsKaW1wb3J0IEFkZENvbW1lbnQgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1lbnRzL0FkZENvbW1lbnQnOwppbXBvcnQgQ29tbWVudExpc3QgZnJvbSAnQC9jb21wb25lbnRzL2NvbW1lbnRzL0NvbW1lbnRMaXN0JzsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGVkOiBmYWxzZSwKICAgICAgZXJyb3JlZDogZmFsc2UsCiAgICAgIHZpZGVvTG9hZGluZzogdHJ1ZSwKICAgICAgc3Vic2NyaWJlZDogZmFsc2UsCiAgICAgIHN1YnNjcmliZUxvYWRpbmc6IGZhbHNlLAogICAgICBzaG93U3ViQnRuOiB0cnVlLAogICAgICBmZWVsaW5nOiAnJywKICAgICAgdmlkZW86IHt9LAogICAgICB2aWRlb0lkOiAnJywKICAgICAgdmlkZW9zOiBbXSwKICAgICAgcGFnZTogMSwKICAgICAgaW5maW5pdGVJZDogK25ldyBEYXRlKCksCiAgICAgIHRydW5jYXRlOiB0cnVlLAogICAgICB1cmw6IHByb2Nlc3MuZW52LlZVRV9BUFBfVVJMLAogICAgICBzaWduaW5EaWFsb2c6IGZhbHNlLAogICAgICBkZXRhaWxzOiB7fQogICAgfTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKFsnY3VycmVudFVzZXInLCAnZ2V0VXJsJywgJ2lzQXV0aGVudGljYXRlZCddKSksCiAgbWV0aG9kczogewogICAgZ2V0VmlkZW86IGZ1bmN0aW9uIGdldFZpZGVvKGlkKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciB2aWRlbywgZGF0YTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJvcmVkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy52aWRlb0xvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMudmlkZW8gPSB7fTsKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAzOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gVmlkZW9TZXJ2aWNlLmdldEJ5SWQoaWQpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICB2aWRlbyA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHZpZGVvKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBfdGhpcy4kcm91dGVyLnB1c2goJy8nKSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF90aGlzLnZpZGVvID0gdmlkZW8uZGF0YS5kYXRhOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTI7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDMpOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyb3JlZCA9IHRydWU7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dC50MCk7CgogICAgICAgICAgICAgIGNhc2UgMTY6CiAgICAgICAgICAgICAgICBfY29udGV4dC5wcmV2ID0gMTY7CiAgICAgICAgICAgICAgICBfdGhpcy52aWRlb0xvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgICAgICAgICBfdGhpcy5jaGVja1N1YnNjcmlwdGlvbihfdGhpcy52aWRlby51c2VySWQuX2lkKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5jaGVja0ZlZWxpbmcoX3RoaXMudmlkZW8uX2lkKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuZmluaXNoKDE2KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIGlmIChfdGhpcy5jdXJyZW50VXNlciAmJiBfdGhpcy5jdXJyZW50VXNlci5faWQgPT09IF90aGlzLnZpZGVvLnVzZXJJZC5faWQpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1N1YkJ0biA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgX3RoaXMuc2hvd1N1YkJ0biA9IHRydWU7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKF90aGlzLmlzQXV0aGVudGljYXRlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMudmlkZW8udXNlcklkLl9pZC50b1N0cmluZygpICE9PSBfdGhpcy5jdXJyZW50VXNlci5faWQudG9TdHJpbmcoKSAmJiBfdGhpcy52aWRlby5zdGF0dXMgIT09ICdwdWJsaWMnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIF90aGlzLiRyb3V0ZXIucHVzaCgnLycpKTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXRjaCcsCiAgICAgICAgICAgICAgICAgIHZpZGVvSWQ6IF90aGlzLnZpZGVvLl9pZAogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyOTsKICAgICAgICAgICAgICAgIHJldHVybiBIaXN0b3J5U2VydmljZS5jcmVhdGVIaXN0b3J5KGRhdGEpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUsIG51bGwsIFtbMywgMTIsIDE2LCAyMV1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0VmlkZW9zOiBmdW5jdGlvbiBnZXRWaWRlb3MoJHN0YXRlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHZpZGVvcywgX3RoaXMyJHZpZGVvczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5lcnJvcmVkID0gZmFsc2U7CgogICAgICAgICAgICAgICAgaWYgKCFfdGhpczIubG9hZGVkKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICByZXR1cm4gVmlkZW9TZXJ2aWNlLmdldEFsbCgncHVibGljJywgewogICAgICAgICAgICAgICAgICBwYWdlOiBfdGhpczIucGFnZQogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgICBfdGhpczIuZXJyb3JlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9KS5maW5hbGx5KGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgdmlkZW9zID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEodHlwZW9mIHZpZGVvcyA9PT0gJ3VuZGVmaW5lZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAodmlkZW9zLmRhdGEuZGF0YS5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnBhZ2UgKz0gMTsKCiAgICAgICAgICAgICAgICAgIChfdGhpczIkdmlkZW9zID0gX3RoaXMyLnZpZGVvcykucHVzaC5hcHBseShfdGhpczIkdmlkZW9zLCBfdG9Db25zdW1hYmxlQXJyYXkodmlkZW9zLmRhdGEuZGF0YSkpOwoKICAgICAgICAgICAgICAgICAgaWYgKCRzdGF0ZSkgewogICAgICAgICAgICAgICAgICAgICRzdGF0ZS5sb2FkZWQoKTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgX3RoaXMyLmxvYWRlZCA9IHRydWU7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBpZiAoJHN0YXRlKSB7CiAgICAgICAgICAgICAgICAgICAgJHN0YXRlLmNvbXBsZXRlKCk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tTdWJzY3JpcHRpb246IGZ1bmN0aW9uIGNoZWNrU3Vic2NyaXB0aW9uKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHN1YjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzMy5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBTdWJzY3JpcHRpb25TZXJ2aWNlLmNoZWNrU3Vic2NyaXB0aW9uKHsKICAgICAgICAgICAgICAgICAgY2hhbm5lbElkOiBpZAogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgc3ViID0gX2NvbnRleHQzLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHN1YikgewogICAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgaWYgKCFzdWIuZGF0YS5kYXRhLl9pZCkgX3RoaXMzLnN1YnNjcmliZWQgPSBmYWxzZTtlbHNlIF90aGlzMy5zdWJzY3JpYmVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgY2hlY2tGZWVsaW5nOiBmdW5jdGlvbiBjaGVja0ZlZWxpbmcoaWQpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgZmVlbGluZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIF90aGlzNC5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBGZWVsaW5nU2VydmljZS5jaGVja0ZlZWxpbmcoewogICAgICAgICAgICAgICAgICB2aWRlb0lkOiBpZAogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSkuZmluYWxseShmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNC5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgZmVlbGluZyA9IF9jb250ZXh0NC5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChmZWVsaW5nKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBpZiAoZmVlbGluZy5kYXRhLmRhdGEuZmVlbGluZyA9PT0gJ2xpa2UnKSBfdGhpczQuZmVlbGluZyA9ICdsaWtlJztlbHNlIGlmIChmZWVsaW5nLmRhdGEuZGF0YS5mZWVsaW5nID09PSAnZGlzbGlrZScpIF90aGlzNC5mZWVsaW5nID0gJ2Rpc2xpa2UnOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVGZWVsaW5nOiBmdW5jdGlvbiBjcmVhdGVGZWVsaW5nKHR5cGUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICB2YXIgZmVlbGluZzsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNS5pc0F1dGhlbnRpY2F0ZWQpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczUuc2lnbmluRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIF90aGlzNS5kZXRhaWxzID0gewogICAgICAgICAgICAgICAgICB0aXRsZTogdHlwZSA9PT0gJ2xpa2UnID8gJ0xpa2UgdGhpcyB2aWRlbz8nIDogIkRvbid0IGxpa2UgdGhpcyB2aWRlbz8iLAogICAgICAgICAgICAgICAgICB0ZXh0OiAnU2lnbiBpbiB0byBtYWtlIHlvdXIgb3BpbmlvbiBjb3VudC4nCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSBfY29udGV4dDUudDAgPT09ICh0eXBlID09PSAnbGlrZScgJiYgX3RoaXM1LmZlZWxpbmcgPT09ICcnKSA/IDcgOiBfY29udGV4dDUudDAgPT09ICh0eXBlID09PSAnbGlrZScgJiYgX3RoaXM1LmZlZWxpbmcgPT09IHR5cGUpID8gMTAgOiBfY29udGV4dDUudDAgPT09ICh0eXBlID09PSAnbGlrZScgJiYgX3RoaXM1LmZlZWxpbmcgPT09ICdkaXNsaWtlJykgPyAxMyA6IF9jb250ZXh0NS50MCA9PT0gKHR5cGUgPT09ICdkaXNsaWtlJyAmJiBfdGhpczUuZmVlbGluZyA9PT0gJycpID8gMTcgOiBfY29udGV4dDUudDAgPT09ICh0eXBlID09PSAnZGlzbGlrZScgJiYgX3RoaXM1LmZlZWxpbmcgPT09IHR5cGUpID8gMjAgOiBfY29udGV4dDUudDAgPT09ICh0eXBlID09PSAnZGlzbGlrZScgJiYgX3RoaXM1LmZlZWxpbmcgPT09ICdsaWtlJykgPyAyMyA6IDI2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzNS5mZWVsaW5nID0gJ2xpa2UnOwogICAgICAgICAgICAgICAgX3RoaXM1LnZpZGVvLmxpa2VzKys7IC8vIGNvbnNvbGUubG9nKCduZXcgbGlrZScpCgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5hYnJ1cHQoImJyZWFrIiwgMjYpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX3RoaXM1LmZlZWxpbmcgPSAnJzsKICAgICAgICAgICAgICAgIF90aGlzNS52aWRlby5saWtlcy0tOyAvLyBjb25zb2xlLmxvZygncmVtb3ZlIGxpa2UnKQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDI2KTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF90aGlzNS5mZWVsaW5nID0gJ2xpa2UnOwogICAgICAgICAgICAgICAgX3RoaXM1LnZpZGVvLmRpc2xpa2VzLS07CiAgICAgICAgICAgICAgICBfdGhpczUudmlkZW8ubGlrZXMrKzsgLy8gY29uc29sZS5sb2coJ2NoYW5nZSB0byBsaWtlJykKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCAyNik7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBfdGhpczUuZmVlbGluZyA9ICdkaXNsaWtlJzsKICAgICAgICAgICAgICAgIF90aGlzNS52aWRlby5kaXNsaWtlcysrOyAvLyBjb25zb2xlLmxvZygnbmV3IGRpc2xpa2UnKQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJicmVhayIsIDI2KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF90aGlzNS5mZWVsaW5nID0gJyc7CiAgICAgICAgICAgICAgICBfdGhpczUudmlkZW8uZGlzbGlrZXMtLTsgLy8gY29uc29sZS5sb2coJ3JlbW92ZSBkaXNsaWtlJykKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgiYnJlYWsiLCAyNik7CgogICAgICAgICAgICAgIGNhc2UgMjM6CiAgICAgICAgICAgICAgICBfdGhpczUuZmVlbGluZyA9ICdkaXNsaWtlJzsKICAgICAgICAgICAgICAgIF90aGlzNS52aWRlby5saWtlcy0tOwogICAgICAgICAgICAgICAgX3RoaXM1LnZpZGVvLmRpc2xpa2VzKys7CgogICAgICAgICAgICAgIGNhc2UgMjY6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIEZlZWxpbmdTZXJ2aWNlLmNyZWF0ZUZlZWxpbmcoewogICAgICAgICAgICAgICAgICB2aWRlb0lkOiBfdGhpczUudmlkZW8uX2lkLAogICAgICAgICAgICAgICAgICB0eXBlOiB0eXBlCiAgICAgICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIGZlZWxpbmcgPSBfY29udGV4dDUuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoZmVlbGluZykgewogICAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDMxOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIik7CgogICAgICAgICAgICAgIGNhc2UgMzE6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzdWJzY3JpYmU6IGZ1bmN0aW9uIHN1YnNjcmliZSgpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICB2YXIgc3ViOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM2LmlzQXV0aGVudGljYXRlZCkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNi5zaWduaW5EaWFsb2cgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXM2LmRldGFpbHMgPSB7CiAgICAgICAgICAgICAgICAgIHRpdGxlOiAnV2FudCB0byBzdWJzY3JpYmUgdG8gdGhpcyBjaGFubmVsPycsCiAgICAgICAgICAgICAgICAgIHRleHQ6ICdTaWduIGluIHRvIHN1YnNjcmliZSB0byB0aGlzIGNoYW5uZWwuJwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuYWJydXB0KCJyZXR1cm4iKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXM2LnN1YnNjcmliZUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIFN1YnNjcmlwdGlvblNlcnZpY2UuY3JlYXRlU3Vic2NyaXB0aW9uKHsKICAgICAgICAgICAgICAgICAgY2hhbm5lbElkOiBfdGhpczYudmlkZW8udXNlcklkLl9pZAogICAgICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZXJyKTsKICAgICAgICAgICAgICAgIH0pLmZpbmFsbHkoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICBfdGhpczYuc3Vic2NyaWJlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHN1YiA9IF9jb250ZXh0Ni5zZW50OwoKICAgICAgICAgICAgICAgIGlmIChzdWIpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAxMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgaWYgKCFzdWIuZGF0YS5kYXRhLl9pZCkgewogICAgICAgICAgICAgICAgICBfdGhpczYuc3Vic2NyaWJlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgICBfdGhpczYudmlkZW8udXNlcklkLnN1YnNjcmliZXJzLS07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICBfdGhpczYuc3Vic2NyaWJlZCA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzNi52aWRlby51c2VySWQuc3Vic2NyaWJlcnMrKzsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ni5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHVwZGF0ZVZpZXdzOiBmdW5jdGlvbiB1cGRhdGVWaWV3cyhpZCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHZhciB2aWV3czsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTckKF9jb250ZXh0NykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDcucHJldiA9IF9jb250ZXh0Ny5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIFZpZGVvU2VydmljZS51cGRhdGVWaWV3cyhpZCkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHZpZXdzID0gX2NvbnRleHQ3LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKHZpZXdzKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczcudmlkZW8udmlld3MrKzsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcGxheTogZnVuY3Rpb24gcGxheShlKSB7CiAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgfSwKICAgIGFjdGlvbnM6IGZ1bmN0aW9uIGFjdGlvbnMoKSB7CiAgICAgIHRoaXMuZ2V0VmlkZW8oKTsKICAgIH0sCiAgICBzaG93OiBmdW5jdGlvbiBzaG93KGV2ZW50KSB7CiAgICAgIGlmIChldmVudC50YXJnZXQuaW5uZXJUZXh0ID09PSAnU0hPVyBNT1JFJykgewogICAgICAgIHRoaXMudHJ1bmNhdGUgPSBmYWxzZTsKICAgICAgICBldmVudC50YXJnZXQuaW5uZXJUZXh0ID0gJ1NIT1cgTEVTUyc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50cnVuY2F0ZSA9IHRydWU7CiAgICAgICAgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCA9ICdTSE9XIE1PUkUnOwogICAgICB9CiAgICB9LAogICAgdHJ1bmNhdGVUZXh0OiBmdW5jdGlvbiB0cnVuY2F0ZVRleHQoKSB7CiAgICAgIHZhciBzdHJpbmcgPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnOwogICAgICB2YXIgbnVtID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgPyBhcmd1bWVudHNbMV0gOiB1bmRlZmluZWQ7CgogICAgICBpZiAoc3RyaW5nLmxlbmd0aCA8PSBudW0pIHsKICAgICAgICByZXR1cm4gc3RyaW5nOwogICAgICB9CgogICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIG51bSk7CiAgICB9LAogICAgZGF0ZUZvcm1hdHRlcjogZnVuY3Rpb24gZGF0ZUZvcm1hdHRlcihkYXRlKSB7CiAgICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZnJvbU5vdygpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgQWRkQ29tbWVudDogQWRkQ29tbWVudCwKICAgIENvbW1lbnRMaXN0OiBDb21tZW50TGlzdCwKICAgIFNpZ25pbk1vZGFsOiBTaWduaW5Nb2RhbCwKICAgIEluZmluaXRlTG9hZGluZzogSW5maW5pdGVMb2FkaW5nCiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRWaWRlbyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgaWYgKHRoaXMuaXNBdXRoZW50aWNhdGVkKSB0aGlzLnVwZGF0ZVZpZXdzKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgfSwKICBiZWZvcmVSb3V0ZVVwZGF0ZTogZnVuY3Rpb24gYmVmb3JlUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpIHsKICAgIHRoaXMucGFnZSA9IDE7CiAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZSwgdGhpcy5sb2FkZWQgPSBmYWxzZSwgdGhpcy52aWRlb3MgPSBbXTsKICAgIHRoaXMuaW5maW5pdGVJZCArPSAxOwogICAgdGhpcy5nZXRWaWRlbyh0by5wYXJhbXMuaWQpOwogICAgbmV4dCgpOwogIH0KfTs="},{"version":3,"sources":["Watch.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div id=\"watch\" ref=\"watch\">\r\n    <v-container fluid>\r\n      <v-row>\r\n        <v-alert prominent class=\"mx-auto\" type=\"error\" v-if=\"errored\">\r\n          <v-row align=\"center\">\r\n            <v-col class=\"grow\">\r\n              <div class=\"title\">Error!</div>\r\n              <div>\r\n                Something went wrong, but don’t fret — let’s give it another\r\n                shot.\r\n              </div>\r\n            </v-col>\r\n            <v-col class=\"shrink\">\r\n              <v-btn @click=\"actions\">Take action</v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-alert>\r\n        <v-col v-else cols=\"11\" class=\"mx-auto\">\r\n          <v-row>\r\n            <v-col cols=\"12\" sm=\"12\" md=\"8\" lg=\"8\">\r\n              <v-skeleton-loader\r\n                type=\"card-avatar, article, actions\"\r\n                :loading=\"videoLoading\"\r\n                tile\r\n                large\r\n              >\r\n                <div ref=\"hello\">\r\n                  <v-responsive max-height=\"450\">\r\n                    <video\r\n                      ref=\"videoPlayer\"\r\n                      controls\r\n                      style=\"height: 100%; width: 100%\"\r\n                    >\r\n                      <source\r\n                        :src=\"`${url}/uploads/videos/${video.url}`\"\r\n                        type=\"video/mp4\"\r\n                      />\r\n                    </video>\r\n                  </v-responsive>\r\n\r\n                  <v-card flat tile class=\"card\">\r\n                    <v-card-title class=\"pl-0 pb-0\">{{\r\n                      video.title\r\n                    }}</v-card-title>\r\n                    <div\r\n                      class=\"d-flex flex-wrap justify-space-between\"\r\n                      id=\"btns\"\r\n                    >\r\n                      <v-card-subtitle\r\n                        class=\"pl-0 pt-0 pb-0 subtitle-1\"\r\n                        style=\"line-height: 2.4em;\"\r\n                      >\r\n                        {{ video.views }} views<v-icon>mdi-circle-small</v-icon\r\n                        >{{ dateFormatter(video.createdAt) }}\r\n                      </v-card-subtitle>\r\n                      <v-card-actions class=\"pt-0 pl-0\">\r\n                        <v-btn text @click=\"createFeeling('like')\"\r\n                          ><v-icon\r\n                            :class=\"\r\n                              `pr-2${\r\n                                feeling !== 'like'\r\n                                  ? ' grey--text text--darken-1'\r\n                                  : ''\r\n                              }`\r\n                            \"\r\n                            >mdi-thumb-up</v-icon\r\n                          >{{ video.likes }}</v-btn\r\n                        >\r\n\r\n                        <v-btn text @click=\"createFeeling('dislike')\"\r\n                          ><v-icon\r\n                            :class=\"\r\n                              `pr-2${\r\n                                feeling !== 'dislike'\r\n                                  ? ' grey--text text--darken-1'\r\n                                  : ''\r\n                              }`\r\n                            \"\r\n                            >mdi-thumb-down</v-icon\r\n                          >\r\n                          {{ video.dislikes }}</v-btn\r\n                        >\r\n                        <v-btn\r\n                          :href=\"`${url}/uploads/videos/${video.url}`\"\r\n                          text\r\n                          class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-download</v-icon> Download</v-btn\r\n                        >\r\n                        <!-- <v-btn text class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-share</v-icon> Share</v-btn\r\n                        >\r\n                        <v-btn text class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-playlist-plus</v-icon> Save</v-btn\r\n                        > -->\r\n                      </v-card-actions>\r\n                    </div>\r\n                  </v-card>\r\n\r\n                  <v-row class=\"justify-space-between\">\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"5\" lg=\"5\">\r\n                      <v-card class=\"transparent\" flat>\r\n                        <v-list-item three-line>\r\n                          <v-list-item-avatar\r\n                            v-if=\"typeof video.userId !== 'undefined'\"\r\n                            size=\"50\"\r\n                          >\r\n                            <img\r\n                              v-if=\"video.userId.photoUrl !== 'no-photo.jpg'\"\r\n                              :src=\"\r\n                                `${getUrl}/uploads/avatars/${video.userId.photoUrl}`\r\n                              \"\r\n                              :alt=\"`${video.userId.channelName} avatar`\"\r\n                            />\r\n                            <v-avatar v-else color=\"red\">\r\n                              <span class=\"white--text headline \">\r\n                                {{\r\n                                  video.userId.channelName\r\n                                    .split('')[0]\r\n                                    .toUpperCase()\r\n                                }}</span\r\n                              >\r\n                            </v-avatar>\r\n                          </v-list-item-avatar>\r\n                          <v-list-item-content\r\n                            v-if=\"video.userId\"\r\n                            class=\"align-self-auto\"\r\n                          >\r\n                            <v-list-item-title\r\n                              class=\"font-weight-medium mb-1\"\r\n                              >{{ video.userId.channelName }}</v-list-item-title\r\n                            >\r\n                            <v-list-item-subtitle\r\n                              >{{ video.userId.subscribers }} subscribers\r\n                            </v-list-item-subtitle>\r\n                          </v-list-item-content>\r\n                        </v-list-item>\r\n                      </v-card>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"4\">\r\n                      <div\r\n                        class=\"d-flex justify-end align-center\"\r\n                        v-if=\"typeof video.userId !== 'undefined'\"\r\n                      >\r\n                        <v-btn\r\n                          v-if=\"\r\n                            currentUser && video.userId._id !== currentUser._id\r\n                          \"\r\n                          :class=\"[\r\n                            { 'red white--text': !subscribed },\r\n                            {\r\n                              'grey grey--text lighten-3 text--darken-3': subscribed\r\n                            },\r\n                            'mt-6'\r\n                          ]\"\r\n                          tile\r\n                          large\r\n                          depressed\r\n                          :loading=\"subscribeLoading\"\r\n                          @click=\"subscribe\"\r\n                          >{{ !subscribed ? 'subscribe' : 'subscribed' }}</v-btn\r\n                        >\r\n\r\n                        <v-btn\r\n                          v-else-if=\"showSubBtn\"\r\n                          :class=\"[\r\n                            { 'red white--text': !subscribed },\r\n                            {\r\n                              'grey grey--text lighten-3 text--darken-3': subscribed\r\n                            },\r\n                            'mt-6'\r\n                          ]\"\r\n                          tile\r\n                          large\r\n                          depressed\r\n                          :loading=\"subscribeLoading\"\r\n                          @click=\"subscribe\"\r\n                          >{{ !subscribed ? 'subscribe' : 'subscribed' }}</v-btn\r\n                        >\r\n\r\n                        <!-- <v-btn\r\n                          v-if=\"\r\n                            video.userId && video.userId._id !== currentUser._id\r\n                          \"\r\n                          :class=\"[\r\n                            { 'red white--text': !subscribed },\r\n                            {\r\n                              'grey grey--text lighten-3 text--darken-3': subscribed\r\n                            },\r\n                            'mt-6'\r\n                          ]\"\r\n                          tile\r\n                          large\r\n                          depressed\r\n                          :loading=\"subscribeLoading\"\r\n                          @click=\"subscribe\"\r\n                          >{{ !subscribed ? 'subscribe' : 'subscribed' }}</v-btn\r\n                        > -->\r\n                        <!-- <v-btn icon class=\"ml-5 mt-6\"\r\n                          ><v-icon>mdi-bell</v-icon></v-btn\r\n                        > -->\r\n                      </div>\r\n                    </v-col>\r\n                    <v-col class=\"pl-11\" offset=\"1\" cols=\"11\" md=\"11\">\r\n                      <p>\r\n                        {{\r\n                          truncate\r\n                            ? truncateText(video.description, 150)\r\n                            : video.description\r\n                        }}\r\n                      </p>\r\n                      <v-btn text @click=\"show\" class=\"remove-hover-bg\"\r\n                        >Show More</v-btn\r\n                      >\r\n                    </v-col>\r\n                  </v-row>\r\n                </div>\r\n              </v-skeleton-loader>\r\n\r\n              <v-row>\r\n                <v-col v-if=\"video && video.status === 'public'\">\r\n                  <p class=\"mb-0\">{{ video.comments }} Comments</p>\r\n\r\n                  <AddComment\r\n                    @videoCommentLength=\"video.comments++\"\r\n                    :videoId=\"video._id\"\r\n                  />\r\n                  <CommentList\r\n                    @videoCommentLength=\"video.comments--\"\r\n                    :videoId=\"video._id\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" sm=\"12\" md=\"4\" lg=\"4\">\r\n              <hr class=\"grey--text\" />\r\n              <h4 class=\"mb-3 mt-3\">Up next</h4>\r\n              <div\r\n                v-for=\"(video, i) in loading ? 12 : videos\"\r\n                :key=\"i\"\r\n                class=\"mb-5\"\r\n              >\r\n                <v-skeleton-loader\r\n                  class=\"mx-auto\"\r\n                  type=\"list-item-avatar-three-line\"\r\n                  :loading=\"loading\"\r\n                  tile\r\n                  large\r\n                >\r\n                  <v-card\r\n                    class=\"card\"\r\n                    tile\r\n                    flat\r\n                    v-if=\"!loading\"\r\n                    :to=\"`/watch/${video._id}`\"\r\n                  >\r\n                    <v-row no-gutters>\r\n                      <v-col class=\"mx-auto\" cols=\"12\" sm=\"12\" md=\"5\" lg=\"5\">\r\n                        <!-- <v-responsive max-height=\"100%\"> -->\r\n                        <v-img\r\n                          class=\"align-center\"\r\n                          height=\"110\"\r\n                          :src=\"\r\n                            `${url}/uploads/thumbnails/${video.thumbnailUrl}`\r\n                          \"\r\n                        >\r\n                        </v-img>\r\n                        <!-- </v-responsive> -->\r\n                      </v-col>\r\n                      <v-col>\r\n                        <div class=\"ml-2\">\r\n                          <v-card-title\r\n                            class=\"pl-2 pt-0 subtitle-1 font-weight-bold\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ video.title }}\r\n                          </v-card-title>\r\n\r\n                          <v-card-subtitle\r\n                            class=\"pl-2 pt-2 pb-0\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ video.userId.channelName }}<br />\r\n                            {{ video.views }} views<v-icon\r\n                              >mdi-circle-small</v-icon\r\n                            >\r\n                            {{ dateFormatter(video.createdAt) }}\r\n                          </v-card-subtitle>\r\n                        </div>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-card>\r\n                </v-skeleton-loader>\r\n              </div>\r\n              <!-- <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\"> -->\r\n              <infinite-loading :identifier=\"infiniteId\" @infinite=\"getVideos\">\r\n                <div slot=\"spinner\">\r\n                  <v-progress-circular\r\n                    indeterminate\r\n                    color=\"red\"\r\n                  ></v-progress-circular>\r\n                </div>\r\n                <div slot=\"no-results\"></div>\r\n                <span slot=\"no-more\"></span>\r\n                <div slot=\"error\" slot-scope=\"{ trigger }\">\r\n                  <v-alert prominent type=\"error\">\r\n                    <v-row align=\"center\">\r\n                      <v-col class=\"grow\">\r\n                        <div class=\"title\">Error!</div>\r\n                        <div>\r\n                          Something went wrong, but don’t fret — let’s give it\r\n                          another shot.\r\n                        </div>\r\n                      </v-col>\r\n                      <v-col class=\"shrink\">\r\n                        <v-btn @click=\"trigger\">Take action</v-btn>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-alert>\r\n                </div>\r\n              </infinite-loading>\r\n              <!-- </v-col> -->\r\n            </v-col>\r\n          </v-row>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    <signin-modal\r\n      :openModal=\"signinDialog\"\r\n      :details=\"details\"\r\n      @closeModal=\"signinDialog = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { mapGetters } from 'vuex'\r\nimport InfiniteLoading from 'vue-infinite-loading'\r\n\r\nimport VideoService from '@/services/VideoService'\r\nimport SubscriptionService from '@/services/SubscriptionService'\r\nimport FeelingService from '@/services/FeelingService'\r\nimport HistoryService from '@/services/HistoryService'\r\n\r\nimport SigninModal from '@/components/SigninModal'\r\nimport AddComment from '@/components/comments/AddComment'\r\nimport CommentList from '@/components/comments/CommentList'\r\n\r\nexport default {\r\n  data: () => ({\r\n    loading: false,\r\n    loaded: false,\r\n    errored: false,\r\n    videoLoading: true,\r\n    subscribed: false,\r\n    subscribeLoading: false,\r\n    showSubBtn: true,\r\n    feeling: '',\r\n    video: {},\r\n    videoId: '',\r\n    videos: [],\r\n    page: 1,\r\n    infiniteId: +new Date(),\r\n    truncate: true,\r\n    url: process.env.VUE_APP_URL,\r\n    signinDialog: false,\r\n    details: {}\r\n  }),\r\n  computed: {\r\n    ...mapGetters(['currentUser', 'getUrl', 'isAuthenticated'])\r\n  },\r\n  methods: {\r\n    async getVideo(id) {\r\n      this.errored = false\r\n      this.videoLoading = true\r\n      this.video = {}\r\n      try {\r\n        const video = await VideoService.getById(id)\r\n\r\n        if (!video) return this.$router.push('/')\r\n        this.video = video.data.data\r\n      } catch (err) {\r\n        this.errored = true\r\n        console.log(err)\r\n      } finally {\r\n        this.videoLoading = false\r\n        this.checkSubscription(this.video.userId._id)\r\n        this.checkFeeling(this.video._id)\r\n      }\r\n      if (this.currentUser && this.currentUser._id === this.video.userId._id) {\r\n        this.showSubBtn = false\r\n      } else {\r\n        this.showSubBtn = true\r\n      }\r\n\r\n      if (!this.isAuthenticated) return\r\n\r\n      if (\r\n        this.video.userId._id.toString() !== this.currentUser._id.toString() &&\r\n        this.video.status !== 'public'\r\n      )\r\n        return this.$router.push('/')\r\n\r\n      const data = {\r\n        type: 'watch',\r\n        videoId: this.video._id\r\n      }\r\n\r\n      await HistoryService.createHistory(data).catch((err) => console.log(err))\r\n    },\r\n    async getVideos($state) {\r\n      this.errored = false\r\n      if (!this.loaded) {\r\n        this.loading = true\r\n      }\r\n      const videos = await VideoService.getAll('public', { page: this.page })\r\n        .catch((err) => {\r\n          console.log(err)\r\n          this.errored = true\r\n        })\r\n        .finally(() => (this.loading = false))\r\n\r\n      if (typeof videos === 'undefined') return\r\n\r\n      if (videos.data.data.length) {\r\n        this.page += 1\r\n\r\n        this.videos.push(...videos.data.data)\r\n        if ($state) {\r\n          $state.loaded()\r\n        }\r\n\r\n        this.loaded = true\r\n      } else {\r\n        if ($state) {\r\n          $state.complete()\r\n        }\r\n      }\r\n    },\r\n    async checkSubscription(id) {\r\n      if (!this.isAuthenticated) return\r\n\r\n      this.loading = true\r\n      const sub = await SubscriptionService.checkSubscription({ channelId: id })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!sub) return\r\n\r\n      if (!sub.data.data._id) this.subscribed = false\r\n      else this.subscribed = true\r\n    },\r\n    async checkFeeling(id) {\r\n      if (!this.isAuthenticated) return\r\n\r\n      this.loading = true\r\n      const feeling = await FeelingService.checkFeeling({ videoId: id })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!feeling) return\r\n\r\n      if (feeling.data.data.feeling === 'like') this.feeling = 'like'\r\n      else if (feeling.data.data.feeling === 'dislike') this.feeling = 'dislike'\r\n    },\r\n    async createFeeling(type) {\r\n      if (!this.isAuthenticated) {\r\n        this.signinDialog = true\r\n        this.details = {\r\n          title:\r\n            type === 'like' ? 'Like this video?' : \"Don't like this video?\",\r\n          text: 'Sign in to make your opinion count.'\r\n        }\r\n        return\r\n      }\r\n      switch (true) {\r\n        case type === 'like' && this.feeling === '':\r\n          this.feeling = 'like'\r\n          this.video.likes++\r\n          // console.log('new like')\r\n          break\r\n        case type === 'like' && this.feeling === type:\r\n          this.feeling = ''\r\n          this.video.likes--\r\n          // console.log('remove like')\r\n          break\r\n        case type === 'like' && this.feeling === 'dislike':\r\n          this.feeling = 'like'\r\n          this.video.dislikes--\r\n          this.video.likes++\r\n          // console.log('change to like')\r\n          break\r\n        case type === 'dislike' && this.feeling === '':\r\n          this.feeling = 'dislike'\r\n          this.video.dislikes++\r\n          // console.log('new dislike')\r\n          break\r\n        case type === 'dislike' && this.feeling === type:\r\n          this.feeling = ''\r\n          this.video.dislikes--\r\n          // console.log('remove dislike')\r\n          break\r\n        case type === 'dislike' && this.feeling === 'like':\r\n          this.feeling = 'dislike'\r\n          this.video.likes--\r\n          this.video.dislikes++\r\n        // console.log('change to dislike')\r\n      }\r\n\r\n      const feeling = await FeelingService.createFeeling({\r\n        videoId: this.video._id,\r\n        type\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n      if (!feeling) return\r\n    },\r\n    async subscribe() {\r\n      if (!this.isAuthenticated) {\r\n        this.signinDialog = true\r\n        this.details = {\r\n          title: 'Want to subscribe to this channel?',\r\n          text: 'Sign in to subscribe to this channel.'\r\n        }\r\n        return\r\n      }\r\n      this.subscribeLoading = true\r\n      const sub = await SubscriptionService.createSubscription({\r\n        channelId: this.video.userId._id\r\n      })\r\n        .catch((err) => console.log(err))\r\n        .finally(() => {\r\n          this.subscribeLoading = false\r\n        })\r\n\r\n      if (!sub) return\r\n\r\n      if (!sub.data.data._id) {\r\n        this.subscribed = false\r\n        this.video.userId.subscribers--\r\n      } else {\r\n        this.subscribed = true\r\n        this.video.userId.subscribers++\r\n      }\r\n    },\r\n    async updateViews(id) {\r\n      const views = await VideoService.updateViews(id).catch((err) => {\r\n        console.log(err)\r\n      })\r\n      if (!views) return\r\n\r\n      this.video.views++\r\n    },\r\n    play(e) {\r\n      console.log(e)\r\n    },\r\n    actions() {\r\n      this.getVideo()\r\n    },\r\n    show(event) {\r\n      if (event.target.innerText === 'SHOW MORE') {\r\n        this.truncate = false\r\n        event.target.innerText = 'SHOW LESS'\r\n      } else {\r\n        this.truncate = true\r\n        event.target.innerText = 'SHOW MORE'\r\n      }\r\n    },\r\n    truncateText(string = '', num) {\r\n      if (string.length <= num) {\r\n        return string\r\n      }\r\n      return string.slice(0, num)\r\n    },\r\n    dateFormatter(date) {\r\n      return moment(date).fromNow()\r\n    }\r\n  },\r\n  components: {\r\n    AddComment,\r\n    CommentList,\r\n    SigninModal,\r\n    InfiniteLoading\r\n  },\r\n  mounted() {\r\n    this.getVideo(this.$route.params.id)\r\n    if (this.isAuthenticated) this.updateViews(this.$route.params.id)\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.page = 1\r\n    ;(this.loading = false), (this.loaded = false), (this.videos = [])\r\n    this.infiniteId += 1\r\n    this.getVideo(to.params.id)\r\n    next()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nvideo {\r\n  max-width: 100%;\r\n}\r\n\r\n.grey-color {\r\n  color: #7f7f7f !important;\r\n}\r\n\r\n#btns {\r\n  border-bottom: 1px solid #e0d8d8;\r\n}\r\n\r\nbutton.v-btn.remove-hover-bg {\r\n  background-color: initial !important;\r\n  &:hover {\r\n    background-color: #f9f9f9;\r\n  }\r\n}\r\n</style>\r\n"],"sourceRoot":"src/views"}]}