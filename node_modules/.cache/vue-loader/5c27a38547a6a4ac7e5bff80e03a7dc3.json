{"remainingRequest":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\src\\components\\UploadVideoModal.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\src\\components\\UploadVideoModal.vue","mtime":1730691715870},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1730447645019},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1730447647589},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1730447647010}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQovLyBpbXBvcnQgbXlVcGxvYWQgZnJvbSAidnVlLWltYWdlLWNyb3AtdXBsb2FkIjsNCmltcG9ydCBWaWRlb1NlcnZpY2UgZnJvbSAiQC9zZXJ2aWNlcy9WaWRlb1NlcnZpY2UiOw0KaW1wb3J0IENhdGVnb3J5U2VydmljZSBmcm9tICJAL3NlcnZpY2VzL0NhdGVnb3J5U2VydmljZSI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogIlVwbG9hZE1vZGFsIiwNCiAgcHJvcHM6IFsib3BlbkRpYWxvZyJdLA0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICB2YWxpZDogZmFsc2UsDQogICAgICB1cGxvYWRlZDogZmFsc2UsDQogICAgICB1cGxvYWRpbmc6IGZhbHNlLA0KICAgICAgc3VibWl0TG9hZGluZzogZmFsc2UsDQogICAgICBjYXRlZ29yeUxvYWRpbmc6IGZhbHNlLA0KICAgICAgdmFsdWU6IDAsDQogICAgICBzaG93OiBmYWxzZSwNCiAgICAgIGNhdGVnb3JpZXNUaXRsZXM6IFsiQmFzaWMiLCAiRmFtaWx5IiwgIkZyaWVuZCBvZiBUaGUgU2hvdyIsICJQYXJ0IG9mIHRoZSBTaG93Il0sDQogICAgICBjYXRlZ29yaWVzOiBbXSwNCiAgICAgIHZpc2liaWxpdHlPcHRpb25zOiBbIlB1YmxpYyIsICJQcml2YXRlIl0sDQogICAgICBzZWxlY3RlZEZpbGU6IG51bGwsDQogICAgICBzZWxlY3RlZEltYWdlOiBudWxsLA0KICAgICAgdXBsb2FkZWRUZXh0OiAiIiwNCiAgICAgIGZvcm1EYXRhOiB7DQogICAgICAgIGlkOiAiIiwNCiAgICAgICAgdGl0bGU6ICIiLA0KICAgICAgICBkZXNjcmlwdGlvbjogIiIsDQogICAgICAgIGNhdGVnb3J5OiAiIiwNCiAgICAgICAgdmlzaWJpbGl0eTogIiIsDQogICAgICB9LA0KICAgICAgaW1nRGF0YVVybDogIiIsDQogICAgICB1cmw6ICIiLA0KICAgICAgaGVhZGVyczogeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy4kc3RvcmUuZ2V0dGVycy5nZXRUb2tlbn1gIH0sDQogICAgfTsNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBkaWFsb2coKSB7DQogICAgICByZXR1cm4gdGhpcy5vcGVuRGlhbG9nOw0KICAgIH0sDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyB1cGxvYWRWaWRlbyhlKSB7DQogICAgICBjb25zdCB7IHZhbGlkIH0gPSBhd2FpdCB0aGlzLiRyZWZzLnByb3ZpZGVyLnZhbGlkYXRlKGUpOw0KICAgICAgaWYgKCF2YWxpZCkgcmV0dXJuOw0KDQogICAgICB0aGlzLnVwbG9hZGluZyA9IHRydWU7DQogICAgICBjb25zdCBmZCA9IG5ldyBGb3JtRGF0YSgpOw0KICAgICAgZmQuYXBwZW5kKCJ2aWRlbyIsIHRoaXMuc2VsZWN0ZWRGaWxlLCB0aGlzLnNlbGVjdGVkRmlsZS5uYW1lKTsNCg0KICAgICAgbGV0IHZpZGVvID0gYXdhaXQgVmlkZW9TZXJ2aWNlLnVwbG9hZFZpZGVvKGZkLCB7DQogICAgICAgIG9uVXBsb2FkUHJvZ3Jlc3M6ICh1cGxvYWRFdmVudCkgPT4gew0KICAgICAgICAgIHRoaXMudmFsdWUgPSBNYXRoLnJvdW5kKCh1cGxvYWRFdmVudC5sb2FkZWQgLyB1cGxvYWRFdmVudC50b3RhbCkgKiAxMDApOw0KICAgICAgICB9LA0KICAgICAgfSkNCiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycik7DQogICAgICB9KQ0KICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICB0aGlzLnVwbG9hZGVkID0gdHJ1ZTsNCiAgICAgICAgdGhpcy51cGxvYWRpbmcgPSBmYWxzZTsNCiAgICAgIH0pOw0KDQogICAgICBpZiAoIXZpZGVvKSByZXR1cm47DQogICAgICB2aWRlbyA9IHZpZGVvLmRhdGEuZGF0YTsNCg0KICAgICAgdGhpcy5mb3JtRGF0YS5pZCA9IHZpZGVvLl9pZDsNCiAgICAgIHRoaXMuZm9ybURhdGEudGl0bGUgPSB2aWRlby50aXRsZTsNCiAgICAgIHRoaXMuZm9ybURhdGEuZGVzY3JpcHRpb24gPSB2aWRlby5kZXNjcmlwdGlvbjsNCiAgICAgIHRoaXMudXJsID0gYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9VUkx9L2FwaS92MS92aWRlb3MvJHt2aWRlby5faWR9L3RodW1ibmFpbHNgOw0KICAgIH0sDQogICAgYXN5bmMgc3VibWl0KCkgew0KICAgICAgaWYgKCF0aGlzLnNlbGVjdGVkSW1hZ2UgfHwgdGhpcy51cGxvYWRlZFRleHQudHJpbSgpID09PSAiIikgcmV0dXJuOw0KICAgICAgdGhpcy5zdWJtaXRMb2FkaW5nID0gdHJ1ZTsNCg0KICAgICAgLy8gRmluZCB0aGUgc2VsZWN0ZWQgY2F0ZWdvcnkgSUQNCiAgICAgIGNvbnN0IHNlbGVjdGVkQ2F0ZWdvcnkgPSB0aGlzLmNhdGVnb3JpZXMuZmluZCgNCiAgICAgICAgKGNhdGVnb3J5KSA9PiBjYXRlZ29yeS50aXRsZSA9PT0gdGhpcy5mb3JtRGF0YS5jYXRlZ29yeQ0KICAgICAgKTsNCiAgICAgIGlmIChzZWxlY3RlZENhdGVnb3J5KSB7DQogICAgICAgIHRoaXMuZm9ybURhdGEuY2F0ZWdvcnkgPSBzZWxlY3RlZENhdGVnb3J5Ll9pZDsNCiAgICAgIH0NCg0KICAgICAgY29uc3QgdmlkZW8gPSBhd2FpdCBWaWRlb1NlcnZpY2UudXBkYXRlVmlkZW8odGhpcy5mb3JtRGF0YS5pZCwgew0KICAgICAgICB0aXRsZTogdGhpcy5mb3JtRGF0YS50aXRsZSwNCiAgICAgICAgZGVzY3JpcHRpb246IHRoaXMuZm9ybURhdGEuZGVzY3JpcHRpb24sDQogICAgICAgIGNhdGVnb3J5SWQ6IHRoaXMuZm9ybURhdGEuY2F0ZWdvcnksDQogICAgICAgIHN0YXR1czogdGhpcy5mb3JtRGF0YS52aXNpYmlsaXR5LnRvTG93ZXJDYXNlKCksDQogICAgICB9KQ0KICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgY29uc29sZS5sb2coZXJyKTsNCiAgICAgIH0pDQogICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgIHRoaXMuc3VibWl0TG9hZGluZyA9IGZhbHNlOw0KICAgICAgICB0aGlzLnVwbG9hZGVkID0gZmFsc2U7DQogICAgICAgIHRoaXMucmVzZXRGb3JtKCk7DQogICAgICB9KTsNCg0KICAgICAgaWYgKCF2aWRlbykgcmV0dXJuOw0KDQogICAgICB0aGlzLiRyb3V0ZXIucHVzaChgL3N0dWRpby92aWRlb3M/JHtuZXcgRGF0ZSgpfWApOw0KICAgIH0sDQogICAgYXN5bmMgZ2V0Q2F0ZWdvcmllcygpIHsNCiAgICAgIHRoaXMuY2F0ZWdvcnlMb2FkaW5nID0gdHJ1ZTsNCiAgICAgIGNvbnN0IGNhdGVnb3JpZXMgPSBhd2FpdCBDYXRlZ29yeVNlcnZpY2UuZ2V0QWxsKCkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpOw0KICAgICAgICB9KQ0KICAgICAgICAuZmluYWxseSgoKSA9PiAodGhpcy5jYXRlZ29yeUxvYWRpbmcgPSBmYWxzZSkpOw0KDQogICAgICB0aGlzLmNhdGVnb3JpZXNUaXRsZXMgPSBjYXRlZ29yaWVzLmRhdGEuZGF0YS5tYXAoKGNhdGVnb3J5KSA9PiBjYXRlZ29yeS50aXRsZSk7DQogICAgICB0aGlzLmNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzLmRhdGEuZGF0YTsNCiAgICB9LA0KICAgIGNsb3NlTW9kYWwoKSB7DQogICAgICB0aGlzLiRlbWl0KCJjbG9zZURpYWxvZyIpOw0KICAgIH0sDQogICAgc2VsZWN0RmlsZSgpIHsNCiAgICAgIHRoaXMuJHJlZnMuZmlsZUlucHV0LiRyZWZzLmlucHV0LmNsaWNrKCk7DQogICAgfSwNCiAgICByZXNldEZvcm0oKSB7DQogICAgICB0aGlzLmZvcm1EYXRhID0gew0KICAgICAgICBpZDogIiIsDQogICAgICAgIHRpdGxlOiAiIiwNCiAgICAgICAgZGVzY3JpcHRpb246ICIiLA0KICAgICAgICBjYXRlZ29yeTogIiIsDQogICAgICAgIHZpc2liaWxpdHk6ICIiLA0KICAgICAgfTsNCiAgICAgIHRoaXMuc2VsZWN0ZWRGaWxlID0gbnVsbDsNCiAgICAgIHRoaXMuc2VsZWN0ZWRJbWFnZSA9IG51bGw7DQogICAgICB0aGlzLnVwbG9hZGVkVGV4dCA9ICIiOw0KICAgICAgdGhpcy5pbWdEYXRhVXJsID0gIiI7DQogICAgICB0aGlzLnNob3cgPSBmYWxzZTsNCiAgICB9LA0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgLy8gbXlVcGxvYWQsDQogIH0sDQogIGNyZWF0ZWQoKSB7DQogICAgdGhpcy5nZXRDYXRlZ29yaWVzKCk7DQogIH0sDQp9Ow0K"},{"version":3,"sources":["UploadVideoModal.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"UploadVideoModal.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <v-dialog\r\n    v-model=\"dialog\"\r\n    persistent\r\n    transition=\"fab-transition\"\r\n    max-width=\"1000\"\r\n  >\r\n    <v-card>\r\n      <div class=\"d-flex justify-space-between mb-5\" id=\"modal-header\">\r\n        <v-card-title class=\"py-3\">Upload Content</v-card-title>\r\n        <div class=\"mt-3 mr-2\">\r\n          <v-btn icon text @click=\"closeModal\">\r\n            <v-icon>mdi-close</v-icon>\r\n          </v-btn>\r\n        </div>\r\n      </div>\r\n\r\n      <v-card-text>\r\n        <ValidationObserver ref=\"form\" v-slot=\"{ invalid }\">\r\n          <form @submit.prevent=\"submit\">\r\n            <div class=\"text-center\">\r\n              <v-btn\r\n                icon\r\n                class=\"grey lighten-2 mb-4\"\r\n                style=\"height: 104px; width: 104px; background-color: #252525;\"\r\n                @click=\"selectFile\"\r\n              >\r\n                <v-icon x-large style=\"color: #ffffff;\">mdi-upload-outline</v-icon>\r\n              </v-btn>\r\n            </div>\r\n\r\n            <ValidationProvider\r\n              rules=\"required|size:5000\"\r\n              v-slot=\"{ errors }\"\r\n              name=\"file\"\r\n              ref=\"provider\"\r\n            >\r\n              <v-file-input\r\n                @change=\"uploadVideo\"\r\n                v-model=\"selectedFile\"\r\n                accept=\"video/mp4\"\r\n                placeholder=\"Pick a video\"\r\n                prepend-icon=\"mdi-attachment\"\r\n                ref=\"fileInput\"\r\n                style=\"color: #252525;\"          \r\n              ></v-file-input >\r\n              <span v-if=\"errors.length\" style=\"color: #252525;\">\r\n        {{ errors[0] }}\r\n      </span> \r\n            </ValidationProvider>\r\n\r\n            <v-progress-circular\r\n              v-if=\"uploading\"\r\n              :rotate=\"360\"\r\n              :size=\"100\"\r\n              :width=\"15\"\r\n              :value=\"value\"\r\n              color=\"#252525\"\r\n            >\r\n              {{ value }}\r\n            </v-progress-circular>\r\n\r\n            <div class=\"mt-6\">\r\n              <v-divider></v-divider>\r\n              <h3 class=\"mt-4\">Upload Image</h3>\r\n              <ValidationProvider\r\n                rules=\"required\"\r\n                name=\"Image\"\r\n              >\r\n                <v-file-input\r\n                  v-model=\"selectedImage\"\r\n                  accept=\"image/*\"\r\n                  placeholder=\"Pick an image\"\r\n                  prepend-icon=\"mdi-attachment\"\r\n                  class=\"mb-4\"\r\n                ></v-file-input>\r\n              </ValidationProvider>\r\n\r\n              <v-divider></v-divider>\r\n            </div>\r\n\r\n            <ValidationProvider\r\n              v-slot=\"{ errors }\"\r\n              name=\"Title\"\r\n              rules=\"required|min:3\"\r\n            >\r\n              <v-text-field\r\n                v-model=\"formData.title\"\r\n                :error-messages=\"errors\"\r\n                label=\"Add a title\"\r\n                class=\"mb-3\"\r\n                filled\r\n                dense\r\n                counter=\"100\"\r\n                max-length=\"100\"\r\n              ></v-text-field>\r\n            </ValidationProvider>\r\n\r\n            <ValidationProvider\r\n              v-slot=\"{ errors }\"\r\n              name=\"Description\"\r\n              rules=\"required|min:3\"\r\n            >\r\n              <v-textarea\r\n                filled\r\n                auto-grow\r\n                :error-messages=\"errors\"\r\n                placeholder=\"What're you thinking about?\"\r\n                rows=\"5\"\r\n                counter=\"5000\"\r\n                max-length=\"5000\"\r\n                v-model=\"formData.description\"\r\n                row-height=\"20\"\r\n              ></v-textarea>\r\n            </ValidationProvider>\r\n\r\n            <ValidationProvider\r\n              v-slot=\"{ errors }\"\r\n              name=\"Visibility\"\r\n              rules=\"required\"\r\n            >\r\n              <v-select\r\n                :items=\"visibilityOptions\"\r\n                :error-messages=\"errors\"\r\n                filled\r\n                label=\"Visibility\"\r\n                v-model=\"formData.visibility\"\r\n              ></v-select>\r\n            </ValidationProvider>\r\n\r\n            <ValidationProvider\r\n              v-slot=\"{ errors }\"\r\n              name=\"Category\"\r\n              rules=\"required\"\r\n            >\r\n              <v-select\r\n                :items=\"categoriesTitles\"\r\n                :error-messages=\"errors\"\r\n                filled\r\n                label=\"Membership Tier\"\r\n                v-model=\"formData.category\"\r\n                :loading=\"categoryLoading\"\r\n              ></v-select>\r\n            </ValidationProvider>\r\n\r\n            <div class=\"mt-6 d-flex justify-space-between\">\r\n              <v-btn\r\n                :loading=\"submitLoading\"\r\n                type=\"submit\"\r\n                class=\"primary\"\r\n                depressed\r\n                :disabled=\"invalid\"\r\n                style=\"background-color: #252525; color: #ffffff;\"\r\n              >Upload</v-btn>\r\n            </div>\r\n          </form>\r\n        </ValidationObserver>\r\n      </v-card-text>\r\n\r\n      <v-card-actions>\r\n\r\n      </v-card-actions>\r\n    </v-card>\r\n  </v-dialog>\r\n</template>\r\n\r\n<script>\r\n// import myUpload from \"vue-image-crop-upload\";\r\nimport VideoService from \"@/services/VideoService\";\r\nimport CategoryService from \"@/services/CategoryService\";\r\n\r\nexport default {\r\n  name: \"UploadModal\",\r\n  props: [\"openDialog\"],\r\n  data() {\r\n    return {\r\n      valid: false,\r\n      uploaded: false,\r\n      uploading: false,\r\n      submitLoading: false,\r\n      categoryLoading: false,\r\n      value: 0,\r\n      show: false,\r\n      categoriesTitles: [\"Basic\", \"Family\", \"Friend of The Show\", \"Part of the Show\"],\r\n      categories: [],\r\n      visibilityOptions: [\"Public\", \"Private\"],\r\n      selectedFile: null,\r\n      selectedImage: null,\r\n      uploadedText: \"\",\r\n      formData: {\r\n        id: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        category: \"\",\r\n        visibility: \"\",\r\n      },\r\n      imgDataUrl: \"\",\r\n      url: \"\",\r\n      headers: { Authorization: `Bearer ${this.$store.getters.getToken}` },\r\n    };\r\n  },\r\n  computed: {\r\n    dialog() {\r\n      return this.openDialog;\r\n    },\r\n  },\r\n  methods: {\r\n    async uploadVideo(e) {\r\n      const { valid } = await this.$refs.provider.validate(e);\r\n      if (!valid) return;\r\n\r\n      this.uploading = true;\r\n      const fd = new FormData();\r\n      fd.append(\"video\", this.selectedFile, this.selectedFile.name);\r\n\r\n      let video = await VideoService.uploadVideo(fd, {\r\n        onUploadProgress: (uploadEvent) => {\r\n          this.value = Math.round((uploadEvent.loaded / uploadEvent.total) * 100);\r\n        },\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        this.uploaded = true;\r\n        this.uploading = false;\r\n      });\r\n\r\n      if (!video) return;\r\n      video = video.data.data;\r\n\r\n      this.formData.id = video._id;\r\n      this.formData.title = video.title;\r\n      this.formData.description = video.description;\r\n      this.url = `${process.env.VUE_APP_URL}/api/v1/videos/${video._id}/thumbnails`;\r\n    },\r\n    async submit() {\r\n      if (!this.selectedImage || this.uploadedText.trim() === \"\") return;\r\n      this.submitLoading = true;\r\n\r\n      // Find the selected category ID\r\n      const selectedCategory = this.categories.find(\r\n        (category) => category.title === this.formData.category\r\n      );\r\n      if (selectedCategory) {\r\n        this.formData.category = selectedCategory._id;\r\n      }\r\n\r\n      const video = await VideoService.updateVideo(this.formData.id, {\r\n        title: this.formData.title,\r\n        description: this.formData.description,\r\n        categoryId: this.formData.category,\r\n        status: this.formData.visibility.toLowerCase(),\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      })\r\n      .finally(() => {\r\n        this.submitLoading = false;\r\n        this.uploaded = false;\r\n        this.resetForm();\r\n      });\r\n\r\n      if (!video) return;\r\n\r\n      this.$router.push(`/studio/videos?${new Date()}`);\r\n    },\r\n    async getCategories() {\r\n      this.categoryLoading = true;\r\n      const categories = await CategoryService.getAll()\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => (this.categoryLoading = false));\r\n\r\n      this.categoriesTitles = categories.data.data.map((category) => category.title);\r\n      this.categories = categories.data.data;\r\n    },\r\n    closeModal() {\r\n      this.$emit(\"closeDialog\");\r\n    },\r\n    selectFile() {\r\n      this.$refs.fileInput.$refs.input.click();\r\n    },\r\n    resetForm() {\r\n      this.formData = {\r\n        id: \"\",\r\n        title: \"\",\r\n        description: \"\",\r\n        category: \"\",\r\n        visibility: \"\",\r\n      };\r\n      this.selectedFile = null;\r\n      this.selectedImage = null;\r\n      this.uploadedText = \"\";\r\n      this.imgDataUrl = \"\";\r\n      this.show = false;\r\n    },\r\n  },\r\n  components: {\r\n    // myUpload,\r\n  },\r\n  created() {\r\n    this.getCategories();\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add any required styles here */\r\n</style>\r\n"]}]}