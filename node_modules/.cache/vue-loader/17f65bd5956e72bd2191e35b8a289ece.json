{"remainingRequest":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\src\\views\\Studio\\Video.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\src\\views\\Studio\\Video.vue","mtime":1730447401970},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\css-loader\\dist\\cjs.js","mtime":1730447646010},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1730447648140},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\postcss-loader\\src\\index.js","mtime":1730447646049},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1730447644413},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1730447647589},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\vue-nodejs-youtube-clone\\node_modules\\vue-loader\\lib\\index.js","mtime":1730447647010}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKDQovLyAuY2FyZCwNCi8vICN0YWIgLnYtdGFicy1iYXIgew0KLy8gICBiYWNrZ3JvdW5kOiAjZjlmOWY5ICFpbXBvcnRhbnQ7DQovLyB9DQo="},{"version":3,"sources":["Video.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwOA;AACA;AACA;AACA","file":"Video.vue","sourceRoot":"src/views/Studio","sourcesContent":["<template>\r\n  <div id=\"video\" class=\"pa-4 pl-0\">\r\n    <!-- <v-container fluid> -->\r\n    <h2>channel videos</h2>\r\n\r\n    <!-- <v-row> -->\r\n    <v-tabs v-model=\"tab\" id=\"tab\" class=\"mt-5\">\r\n      <v-tab>\r\n        Uploads\r\n      </v-tab>\r\n      <v-tab>\r\n        Live\r\n      </v-tab>\r\n    </v-tabs>\r\n\r\n    <v-tabs-items v-model=\"tab\">\r\n      <v-tab-item>\r\n        <template>\r\n          <v-card flat>\r\n            <v-card-title>\r\n              <v-text-field\r\n                v-model=\"search\"\r\n                append-icon=\"mdi-magnify\"\r\n                label=\"Filter\"\r\n                single-line\r\n                hide-details\r\n              ></v-text-field>\r\n            </v-card-title>\r\n            <v-data-table\r\n              no-data-text=\"No videos available, please upload video.\"\r\n              :headers=\"headers\"\r\n              :items=\"videos\"\r\n              :search=\"search\"\r\n              :loading=\"loading\"\r\n              loading-text=\"Loading... Please wait\"\r\n            >\r\n              <template v-slot:item.feelings=\"{ item }\">\r\n                <span class=\"mr-3\"\r\n                  ><v-icon small class=\"pr-1\">mdi-thumb-up</v-icon\r\n                  >{{ item.likes }}</span\r\n                >\r\n                <span\r\n                  ><v-icon small class=\"pr-1\">mdi-thumb-down</v-icon\r\n                  >{{ item.dislikes }}</span\r\n                >\r\n              </template>\r\n              <template v-slot:top>\r\n                <v-dialog v-model=\"dialogDelete\" persistent max-width=\"500px\">\r\n                  <v-card>\r\n                    <v-card-title>\r\n                      <span class=\"headline\"\r\n                        >Permanently delete this video?</span\r\n                      >\r\n                    </v-card-title>\r\n\r\n                    <v-card-text>\r\n                      <v-container>\r\n                        <v-card class=\"card\" tile flat>\r\n                          <v-row no-gutters>\r\n                            <v-col cols=\"3\" sm=\"2\" md=\"5\" lg=\"5\">\r\n                              <v-img\r\n                                class=\"align-center\"\r\n                                :src=\"`${url}/uploads/thumbnails/${itemToDelete.thumbnailUrl}`\"\r\n                              >\r\n                              </v-img>\r\n                            </v-col>\r\n                            <v-col>\r\n                              <div class=\"ml-2\">\r\n                                <v-card-title\r\n                                  class=\"pl-2 subtitle-1 font-weight-bold\"\r\n                                  style=\"line-height: 1\"\r\n                                >\r\n                                  {{ itemToDelete.title }}\r\n                                </v-card-title>\r\n\r\n                                <v-card-subtitle\r\n                                  class=\"pl-2 pt-2 pb-0\"\r\n                                  style=\"line-height: 1\"\r\n                                >\r\n\r\n                                  Published\r\n                                  {{ dateFormatter(itemToDelete.createdAt) }}\r\n                                  <br />\r\n                                  {{ itemToDelete.views }} views\r\n                                </v-card-subtitle>\r\n                              </div>\r\n                            </v-col>\r\n                          </v-row>\r\n                        </v-card>\r\n                      </v-container>\r\n                    </v-card-text>\r\n\r\n                    <v-card-actions>\r\n                      <v-spacer></v-spacer>\r\n                      <v-btn\r\n                        color=\"blue darken-1\"\r\n                        text\r\n                        @click=\"dialogDelete = !dialogDelete\"\r\n                        >Cancel</v-btn\r\n                      >\r\n\r\n                      <v-btn\r\n                        :loading=\"deleteBtnLoading\"\r\n                        color=\"blue darken-1\"\r\n                        text\r\n                        @click=\"deleteItem\"\r\n                        >Delete Forever</v-btn\r\n                      >\r\n                    </v-card-actions>\r\n                  </v-card>\r\n                </v-dialog>\r\n              </template>\r\n              <template v-slot:item.actions=\"{ item }\">\r\n                <v-btn icon href text class=\"mr-2\">\r\n                  <v-icon @click=\"editItem(item)\">\r\n                    mdi-pencil\r\n                  </v-icon>\r\n                </v-btn>\r\n                <v-btn\r\n                  icon\r\n                  href\r\n                  text\r\n                  class=\"mr-2\"\r\n                  router\r\n                  :to=\"`/watch/${item._id}`\"\r\n                >\r\n                  <v-icon>\r\n                    mdi-youtube\r\n                  </v-icon>\r\n                </v-btn>\r\n                <v-btn icon text @click.stop=\"deleteBtn(item)\">\r\n                  <v-icon>\r\n                    mdi-delete\r\n                  </v-icon>\r\n                </v-btn>\r\n              </template>\r\n            </v-data-table>\r\n          </v-card>\r\n        </template>\r\n      </v-tab-item>\r\n      <v-tab-item>\r\n        live\r\n      </v-tab-item>\r\n    </v-tabs-items>\r\n    <!-- </v-row> -->\r\n    <!-- </v-container> -->\r\n    <v-snackbar v-model=\"snackbar\">\r\n      Video deleted successfully\r\n      <v-btn color=\"white\" text @click=\"snackbar = false\" icon>\r\n        <v-icon>mdi-close-circle</v-icon>\r\n      </v-btn>\r\n    </v-snackbar>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport VideoService from \"@/services/VideoService\";\r\nimport moment from \"moment\";\r\nexport default {\r\n  data: () => ({\r\n    loading: false,\r\n    deleteBtnLoading: false,\r\n    snackbar: false,\r\n    dialogDelete: false,\r\n    tab: null,\r\n    search: \"\",\r\n    url: process.env.VUE_APP_URL,\r\n    headers: [\r\n      {\r\n        text: \"Video\",\r\n        align: \"start\",\r\n        value: \"title\",\r\n      },\r\n      { text: \"Visibility\", value: \"status\" },\r\n      { text: \"Views\", value: \"views\" },\r\n      { text: \"Comments\", value: \"comments\" },\r\n      { text: \"Likes (vs. dislikes)\", value: \"feelings\" },\r\n      { text: \"Actions\", value: \"actions\", sortable: false },\r\n    ],\r\n    videos: [],\r\n    itemToDelete: {},\r\n  }),\r\n  methods: {\r\n    async getVideos() {\r\n      this.loading = true;\r\n\r\n      const videos = await VideoService.getAll(\"private\", { limit: 0 })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        })\r\n        .finally(() => (this.loading = false));\r\n\r\n      if (!videos) return;\r\n      // console.log(videos)\r\n      this.videos = videos.data.data;\r\n    },\r\n    editItem(item) {\r\n      this.$router.push({ name: `Detail`, params: { id: item.id } });\r\n    },\r\n    deleteBtn(item) {\r\n      this.dialogDelete = true;\r\n      this.itemToDelete = item;\r\n    },\r\n    async deleteItem() {\r\n      this.deleteBtnLoading = true;\r\n      await VideoService.deleteById(this.itemToDelete._id)\r\n        .catch((err) => console.log(err))\r\n        .finally(() => {\r\n          this.videos = this.videos.filter(\r\n            (video) => this.itemToDelete.id !== video.id\r\n          );\r\n          this.deleteBtnLoading = false;\r\n          this.dialogDelete = false;\r\n          this.itemToDelete = {};\r\n          this.snackbar = true;\r\n        });\r\n    },\r\n    dateFormatter(date) {\r\n      return moment(date).fromNow();\r\n    },\r\n  },\r\n  mounted() {\r\n    this.getVideos();\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.getVideos();\r\n    next();\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n// .card,\r\n// #tab .v-tabs-bar {\r\n//   background: #f9f9f9 !important;\r\n// }\r\n</style>\r\n"]}]}