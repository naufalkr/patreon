{"remainingRequest":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\src\\views\\Watch.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\src\\views\\Watch.vue","mtime":1730447401970},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\babel-loader\\lib\\index.js","mtime":1730447645019},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\vuetify-loader\\lib\\loader.js","mtime":1730447647589},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1730447643917},{"path":"D:\\Kampus\\SEMESTER 5\\PBKK\\patreon-vue\\node_modules\\vue-loader\\lib\\index.js","mtime":1730447647010}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCcNCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICd2dWV4Jw0KaW1wb3J0IEluZmluaXRlTG9hZGluZyBmcm9tICd2dWUtaW5maW5pdGUtbG9hZGluZycNCg0KaW1wb3J0IFZpZGVvU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL1ZpZGVvU2VydmljZScNCmltcG9ydCBTdWJzY3JpcHRpb25TZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvU3Vic2NyaXB0aW9uU2VydmljZScNCmltcG9ydCBGZWVsaW5nU2VydmljZSBmcm9tICdAL3NlcnZpY2VzL0ZlZWxpbmdTZXJ2aWNlJw0KaW1wb3J0IEhpc3RvcnlTZXJ2aWNlIGZyb20gJ0Avc2VydmljZXMvSGlzdG9yeVNlcnZpY2UnDQoNCmltcG9ydCBTaWduaW5Nb2RhbCBmcm9tICdAL2NvbXBvbmVudHMvU2lnbmluTW9kYWwnDQppbXBvcnQgQWRkQ29tbWVudCBmcm9tICdAL2NvbXBvbmVudHMvY29tbWVudHMvQWRkQ29tbWVudCcNCmltcG9ydCBDb21tZW50TGlzdCBmcm9tICdAL2NvbXBvbmVudHMvY29tbWVudHMvQ29tbWVudExpc3QnDQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YTogKCkgPT4gKHsNCiAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICBsb2FkZWQ6IGZhbHNlLA0KICAgIGVycm9yZWQ6IGZhbHNlLA0KICAgIHZpZGVvTG9hZGluZzogdHJ1ZSwNCiAgICBzdWJzY3JpYmVkOiBmYWxzZSwNCiAgICBzdWJzY3JpYmVMb2FkaW5nOiBmYWxzZSwNCiAgICBzaG93U3ViQnRuOiB0cnVlLA0KICAgIGZlZWxpbmc6ICcnLA0KICAgIHZpZGVvOiB7fSwNCiAgICB2aWRlb0lkOiAnJywNCiAgICB2aWRlb3M6IFtdLA0KICAgIHBhZ2U6IDEsDQogICAgaW5maW5pdGVJZDogK25ldyBEYXRlKCksDQogICAgdHJ1bmNhdGU6IHRydWUsDQogICAgdXJsOiBwcm9jZXNzLmVudi5WVUVfQVBQX1VSTCwNCiAgICBzaWduaW5EaWFsb2c6IGZhbHNlLA0KICAgIGRldGFpbHM6IHt9DQogIH0pLA0KICBjb21wdXRlZDogew0KICAgIC4uLm1hcEdldHRlcnMoWydjdXJyZW50VXNlcicsICdnZXRVcmwnLCAnaXNBdXRoZW50aWNhdGVkJ10pDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBhc3luYyBnZXRWaWRlbyhpZCkgew0KICAgICAgdGhpcy5lcnJvcmVkID0gZmFsc2UNCiAgICAgIHRoaXMudmlkZW9Mb2FkaW5nID0gdHJ1ZQ0KICAgICAgdGhpcy52aWRlbyA9IHt9DQogICAgICB0cnkgew0KICAgICAgICBjb25zdCB2aWRlbyA9IGF3YWl0IFZpZGVvU2VydmljZS5nZXRCeUlkKGlkKQ0KDQogICAgICAgIGlmICghdmlkZW8pIHJldHVybiB0aGlzLiRyb3V0ZXIucHVzaCgnLycpDQogICAgICAgIHRoaXMudmlkZW8gPSB2aWRlby5kYXRhLmRhdGENCiAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICB0aGlzLmVycm9yZWQgPSB0cnVlDQogICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgIH0gZmluYWxseSB7DQogICAgICAgIHRoaXMudmlkZW9Mb2FkaW5nID0gZmFsc2UNCiAgICAgICAgdGhpcy5jaGVja1N1YnNjcmlwdGlvbih0aGlzLnZpZGVvLnVzZXJJZC5faWQpDQogICAgICAgIHRoaXMuY2hlY2tGZWVsaW5nKHRoaXMudmlkZW8uX2lkKQ0KICAgICAgfQ0KICAgICAgaWYgKHRoaXMuY3VycmVudFVzZXIgJiYgdGhpcy5jdXJyZW50VXNlci5faWQgPT09IHRoaXMudmlkZW8udXNlcklkLl9pZCkgew0KICAgICAgICB0aGlzLnNob3dTdWJCdG4gPSBmYWxzZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy5zaG93U3ViQnRuID0gdHJ1ZQ0KICAgICAgfQ0KDQogICAgICBpZiAoIXRoaXMuaXNBdXRoZW50aWNhdGVkKSByZXR1cm4NCg0KICAgICAgaWYgKA0KICAgICAgICB0aGlzLnZpZGVvLnVzZXJJZC5faWQudG9TdHJpbmcoKSAhPT0gdGhpcy5jdXJyZW50VXNlci5faWQudG9TdHJpbmcoKSAmJg0KICAgICAgICB0aGlzLnZpZGVvLnN0YXR1cyAhPT0gJ3B1YmxpYycNCiAgICAgICkNCiAgICAgICAgcmV0dXJuIHRoaXMuJHJvdXRlci5wdXNoKCcvJykNCg0KICAgICAgY29uc3QgZGF0YSA9IHsNCiAgICAgICAgdHlwZTogJ3dhdGNoJywNCiAgICAgICAgdmlkZW9JZDogdGhpcy52aWRlby5faWQNCiAgICAgIH0NCg0KICAgICAgYXdhaXQgSGlzdG9yeVNlcnZpY2UuY3JlYXRlSGlzdG9yeShkYXRhKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKQ0KICAgIH0sDQogICAgYXN5bmMgZ2V0VmlkZW9zKCRzdGF0ZSkgew0KICAgICAgdGhpcy5lcnJvcmVkID0gZmFsc2UNCiAgICAgIGlmICghdGhpcy5sb2FkZWQpIHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgfQ0KICAgICAgY29uc3QgdmlkZW9zID0gYXdhaXQgVmlkZW9TZXJ2aWNlLmdldEFsbCgncHVibGljJywgeyBwYWdlOiB0aGlzLnBhZ2UgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgICAgdGhpcy5lcnJvcmVkID0gdHJ1ZQ0KICAgICAgICB9KQ0KICAgICAgICAuZmluYWxseSgoKSA9PiAodGhpcy5sb2FkaW5nID0gZmFsc2UpKQ0KDQogICAgICBpZiAodHlwZW9mIHZpZGVvcyA9PT0gJ3VuZGVmaW5lZCcpIHJldHVybg0KDQogICAgICBpZiAodmlkZW9zLmRhdGEuZGF0YS5sZW5ndGgpIHsNCiAgICAgICAgdGhpcy5wYWdlICs9IDENCg0KICAgICAgICB0aGlzLnZpZGVvcy5wdXNoKC4uLnZpZGVvcy5kYXRhLmRhdGEpDQogICAgICAgIGlmICgkc3RhdGUpIHsNCiAgICAgICAgICAkc3RhdGUubG9hZGVkKCkNCiAgICAgICAgfQ0KDQogICAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZQ0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgaWYgKCRzdGF0ZSkgew0KICAgICAgICAgICRzdGF0ZS5jb21wbGV0ZSgpDQogICAgICAgIH0NCiAgICAgIH0NCiAgICB9LA0KICAgIGFzeW5jIGNoZWNrU3Vic2NyaXB0aW9uKGlkKSB7DQogICAgICBpZiAoIXRoaXMuaXNBdXRoZW50aWNhdGVkKSByZXR1cm4NCg0KICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQ0KICAgICAgY29uc3Qgc3ViID0gYXdhaXQgU3Vic2NyaXB0aW9uU2VydmljZS5jaGVja1N1YnNjcmlwdGlvbih7IGNoYW5uZWxJZDogaWQgfSkNCiAgICAgICAgLmNhdGNoKChlcnIpID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpDQogICAgICAgIH0pDQogICAgICAgIC5maW5hbGx5KCgpID0+IHsNCiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQ0KICAgICAgICB9KQ0KDQogICAgICBpZiAoIXN1YikgcmV0dXJuDQoNCiAgICAgIGlmICghc3ViLmRhdGEuZGF0YS5faWQpIHRoaXMuc3Vic2NyaWJlZCA9IGZhbHNlDQogICAgICBlbHNlIHRoaXMuc3Vic2NyaWJlZCA9IHRydWUNCiAgICB9LA0KICAgIGFzeW5jIGNoZWNrRmVlbGluZyhpZCkgew0KICAgICAgaWYgKCF0aGlzLmlzQXV0aGVudGljYXRlZCkgcmV0dXJuDQoNCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgIGNvbnN0IGZlZWxpbmcgPSBhd2FpdCBGZWVsaW5nU2VydmljZS5jaGVja0ZlZWxpbmcoeyB2aWRlb0lkOiBpZCB9KQ0KICAgICAgICAuY2F0Y2goKGVycikgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgICAgfSkNCiAgICAgICAgLmZpbmFsbHkoKCkgPT4gew0KICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgIH0pDQoNCiAgICAgIGlmICghZmVlbGluZykgcmV0dXJuDQoNCiAgICAgIGlmIChmZWVsaW5nLmRhdGEuZGF0YS5mZWVsaW5nID09PSAnbGlrZScpIHRoaXMuZmVlbGluZyA9ICdsaWtlJw0KICAgICAgZWxzZSBpZiAoZmVlbGluZy5kYXRhLmRhdGEuZmVlbGluZyA9PT0gJ2Rpc2xpa2UnKSB0aGlzLmZlZWxpbmcgPSAnZGlzbGlrZScNCiAgICB9LA0KICAgIGFzeW5jIGNyZWF0ZUZlZWxpbmcodHlwZSkgew0KICAgICAgaWYgKCF0aGlzLmlzQXV0aGVudGljYXRlZCkgew0KICAgICAgICB0aGlzLnNpZ25pbkRpYWxvZyA9IHRydWUNCiAgICAgICAgdGhpcy5kZXRhaWxzID0gew0KICAgICAgICAgIHRpdGxlOg0KICAgICAgICAgICAgdHlwZSA9PT0gJ2xpa2UnID8gJ0xpa2UgdGhpcyB2aWRlbz8nIDogIkRvbid0IGxpa2UgdGhpcyB2aWRlbz8iLA0KICAgICAgICAgIHRleHQ6ICdTaWduIGluIHRvIG1ha2UgeW91ciBvcGluaW9uIGNvdW50LicNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHN3aXRjaCAodHJ1ZSkgew0KICAgICAgICBjYXNlIHR5cGUgPT09ICdsaWtlJyAmJiB0aGlzLmZlZWxpbmcgPT09ICcnOg0KICAgICAgICAgIHRoaXMuZmVlbGluZyA9ICdsaWtlJw0KICAgICAgICAgIHRoaXMudmlkZW8ubGlrZXMrKw0KICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCduZXcgbGlrZScpDQogICAgICAgICAgYnJlYWsNCiAgICAgICAgY2FzZSB0eXBlID09PSAnbGlrZScgJiYgdGhpcy5mZWVsaW5nID09PSB0eXBlOg0KICAgICAgICAgIHRoaXMuZmVlbGluZyA9ICcnDQogICAgICAgICAgdGhpcy52aWRlby5saWtlcy0tDQogICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlbW92ZSBsaWtlJykNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlIHR5cGUgPT09ICdsaWtlJyAmJiB0aGlzLmZlZWxpbmcgPT09ICdkaXNsaWtlJzoNCiAgICAgICAgICB0aGlzLmZlZWxpbmcgPSAnbGlrZScNCiAgICAgICAgICB0aGlzLnZpZGVvLmRpc2xpa2VzLS0NCiAgICAgICAgICB0aGlzLnZpZGVvLmxpa2VzKysNCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hhbmdlIHRvIGxpa2UnKQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgdHlwZSA9PT0gJ2Rpc2xpa2UnICYmIHRoaXMuZmVlbGluZyA9PT0gJyc6DQogICAgICAgICAgdGhpcy5mZWVsaW5nID0gJ2Rpc2xpa2UnDQogICAgICAgICAgdGhpcy52aWRlby5kaXNsaWtlcysrDQogICAgICAgICAgLy8gY29uc29sZS5sb2coJ25ldyBkaXNsaWtlJykNCiAgICAgICAgICBicmVhaw0KICAgICAgICBjYXNlIHR5cGUgPT09ICdkaXNsaWtlJyAmJiB0aGlzLmZlZWxpbmcgPT09IHR5cGU6DQogICAgICAgICAgdGhpcy5mZWVsaW5nID0gJycNCiAgICAgICAgICB0aGlzLnZpZGVvLmRpc2xpa2VzLS0NCiAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVtb3ZlIGRpc2xpa2UnKQ0KICAgICAgICAgIGJyZWFrDQogICAgICAgIGNhc2UgdHlwZSA9PT0gJ2Rpc2xpa2UnICYmIHRoaXMuZmVlbGluZyA9PT0gJ2xpa2UnOg0KICAgICAgICAgIHRoaXMuZmVlbGluZyA9ICdkaXNsaWtlJw0KICAgICAgICAgIHRoaXMudmlkZW8ubGlrZXMtLQ0KICAgICAgICAgIHRoaXMudmlkZW8uZGlzbGlrZXMrKw0KICAgICAgICAvLyBjb25zb2xlLmxvZygnY2hhbmdlIHRvIGRpc2xpa2UnKQ0KICAgICAgfQ0KDQogICAgICBjb25zdCBmZWVsaW5nID0gYXdhaXQgRmVlbGluZ1NlcnZpY2UuY3JlYXRlRmVlbGluZyh7DQogICAgICAgIHZpZGVvSWQ6IHRoaXMudmlkZW8uX2lkLA0KICAgICAgICB0eXBlDQogICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgIH0pDQoNCiAgICAgIGlmICghZmVlbGluZykgcmV0dXJuDQogICAgfSwNCiAgICBhc3luYyBzdWJzY3JpYmUoKSB7DQogICAgICBpZiAoIXRoaXMuaXNBdXRoZW50aWNhdGVkKSB7DQogICAgICAgIHRoaXMuc2lnbmluRGlhbG9nID0gdHJ1ZQ0KICAgICAgICB0aGlzLmRldGFpbHMgPSB7DQogICAgICAgICAgdGl0bGU6ICdXYW50IHRvIHN1YnNjcmliZSB0byB0aGlzIGNoYW5uZWw/JywNCiAgICAgICAgICB0ZXh0OiAnU2lnbiBpbiB0byBzdWJzY3JpYmUgdG8gdGhpcyBjaGFubmVsLicNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMuc3Vic2NyaWJlTG9hZGluZyA9IHRydWUNCiAgICAgIGNvbnN0IHN1YiA9IGF3YWl0IFN1YnNjcmlwdGlvblNlcnZpY2UuY3JlYXRlU3Vic2NyaXB0aW9uKHsNCiAgICAgICAgY2hhbm5lbElkOiB0aGlzLnZpZGVvLnVzZXJJZC5faWQNCiAgICAgIH0pDQogICAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKQ0KICAgICAgICAuZmluYWxseSgoKSA9PiB7DQogICAgICAgICAgdGhpcy5zdWJzY3JpYmVMb2FkaW5nID0gZmFsc2UNCiAgICAgICAgfSkNCg0KICAgICAgaWYgKCFzdWIpIHJldHVybg0KDQogICAgICBpZiAoIXN1Yi5kYXRhLmRhdGEuX2lkKSB7DQogICAgICAgIHRoaXMuc3Vic2NyaWJlZCA9IGZhbHNlDQogICAgICAgIHRoaXMudmlkZW8udXNlcklkLnN1YnNjcmliZXJzLS0NCiAgICAgIH0gZWxzZSB7DQogICAgICAgIHRoaXMuc3Vic2NyaWJlZCA9IHRydWUNCiAgICAgICAgdGhpcy52aWRlby51c2VySWQuc3Vic2NyaWJlcnMrKw0KICAgICAgfQ0KICAgIH0sDQogICAgYXN5bmMgdXBkYXRlVmlld3MoaWQpIHsNCiAgICAgIGNvbnN0IHZpZXdzID0gYXdhaXQgVmlkZW9TZXJ2aWNlLnVwZGF0ZVZpZXdzKGlkKS5jYXRjaCgoZXJyKSA9PiB7DQogICAgICAgIGNvbnNvbGUubG9nKGVycikNCiAgICAgIH0pDQogICAgICBpZiAoIXZpZXdzKSByZXR1cm4NCg0KICAgICAgdGhpcy52aWRlby52aWV3cysrDQogICAgfSwNCiAgICBwbGF5KGUpIHsNCiAgICAgIGNvbnNvbGUubG9nKGUpDQogICAgfSwNCiAgICBhY3Rpb25zKCkgew0KICAgICAgdGhpcy5nZXRWaWRlbygpDQogICAgfSwNCiAgICBzaG93KGV2ZW50KSB7DQogICAgICBpZiAoZXZlbnQudGFyZ2V0LmlubmVyVGV4dCA9PT0gJ1NIT1cgTU9SRScpIHsNCiAgICAgICAgdGhpcy50cnVuY2F0ZSA9IGZhbHNlDQogICAgICAgIGV2ZW50LnRhcmdldC5pbm5lclRleHQgPSAnU0hPVyBMRVNTJw0KICAgICAgfSBlbHNlIHsNCiAgICAgICAgdGhpcy50cnVuY2F0ZSA9IHRydWUNCiAgICAgICAgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCA9ICdTSE9XIE1PUkUnDQogICAgICB9DQogICAgfSwNCiAgICB0cnVuY2F0ZVRleHQoc3RyaW5nID0gJycsIG51bSkgew0KICAgICAgaWYgKHN0cmluZy5sZW5ndGggPD0gbnVtKSB7DQogICAgICAgIHJldHVybiBzdHJpbmcNCiAgICAgIH0NCiAgICAgIHJldHVybiBzdHJpbmcuc2xpY2UoMCwgbnVtKQ0KICAgIH0sDQogICAgZGF0ZUZvcm1hdHRlcihkYXRlKSB7DQogICAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZyb21Ob3coKQ0KICAgIH0NCiAgfSwNCiAgY29tcG9uZW50czogew0KICAgIEFkZENvbW1lbnQsDQogICAgQ29tbWVudExpc3QsDQogICAgU2lnbmluTW9kYWwsDQogICAgSW5maW5pdGVMb2FkaW5nDQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5nZXRWaWRlbyh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQpDQogICAgaWYgKHRoaXMuaXNBdXRoZW50aWNhdGVkKSB0aGlzLnVwZGF0ZVZpZXdzKHRoaXMuJHJvdXRlLnBhcmFtcy5pZCkNCiAgfSwNCiAgYmVmb3JlUm91dGVVcGRhdGUodG8sIGZyb20sIG5leHQpIHsNCiAgICB0aGlzLnBhZ2UgPSAxDQogICAgOyh0aGlzLmxvYWRpbmcgPSBmYWxzZSksICh0aGlzLmxvYWRlZCA9IGZhbHNlKSwgKHRoaXMudmlkZW9zID0gW10pDQogICAgdGhpcy5pbmZpbml0ZUlkICs9IDENCiAgICB0aGlzLmdldFZpZGVvKHRvLnBhcmFtcy5pZCkNCiAgICBuZXh0KCkNCiAgfQ0KfQ0K"},{"version":3,"sources":["Watch.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiVA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Watch.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div id=\"watch\" ref=\"watch\">\r\n    <v-container fluid>\r\n      <v-row>\r\n        <v-alert prominent class=\"mx-auto\" type=\"error\" v-if=\"errored\">\r\n          <v-row align=\"center\">\r\n            <v-col class=\"grow\">\r\n              <div class=\"title\">Error!</div>\r\n              <div>\r\n                Something went wrong, but don’t fret — let’s give it another\r\n                shot.\r\n              </div>\r\n            </v-col>\r\n            <v-col class=\"shrink\">\r\n              <v-btn @click=\"actions\">Take action</v-btn>\r\n            </v-col>\r\n          </v-row>\r\n        </v-alert>\r\n        <v-col v-else cols=\"11\" class=\"mx-auto\">\r\n          <v-row>\r\n            <v-col cols=\"12\" sm=\"12\" md=\"8\" lg=\"8\">\r\n              <v-skeleton-loader\r\n                type=\"card-avatar, article, actions\"\r\n                :loading=\"videoLoading\"\r\n                tile\r\n                large\r\n              >\r\n                <div ref=\"hello\">\r\n                  <v-responsive max-height=\"450\">\r\n                    <video\r\n                      ref=\"videoPlayer\"\r\n                      controls\r\n                      style=\"height: 100%; width: 100%\"\r\n                    >\r\n                      <source\r\n                        :src=\"`${url}/uploads/videos/${video.url}`\"\r\n                        type=\"video/mp4\"\r\n                      />\r\n                    </video>\r\n                  </v-responsive>\r\n\r\n                  <v-card flat tile class=\"card\">\r\n                    <v-card-title class=\"pl-0 pb-0\">{{\r\n                      video.title\r\n                    }}</v-card-title>\r\n                    <div\r\n                      class=\"d-flex flex-wrap justify-space-between\"\r\n                      id=\"btns\"\r\n                    >\r\n                      <v-card-subtitle\r\n                        class=\"pl-0 pt-0 pb-0 subtitle-1\"\r\n                        style=\"line-height: 2.4em;\"\r\n                      >\r\n                        {{ video.views }} views<v-icon>mdi-circle-small</v-icon\r\n                        >{{ dateFormatter(video.createdAt) }}\r\n                      </v-card-subtitle>\r\n                      <v-card-actions class=\"pt-0 pl-0\">\r\n                        <v-btn text @click=\"createFeeling('like')\"\r\n                          ><v-icon\r\n                            :class=\"\r\n                              `pr-2${\r\n                                feeling !== 'like'\r\n                                  ? ' grey--text text--darken-1'\r\n                                  : ''\r\n                              }`\r\n                            \"\r\n                            >mdi-thumb-up</v-icon\r\n                          >{{ video.likes }}</v-btn\r\n                        >\r\n\r\n                        <v-btn text @click=\"createFeeling('dislike')\"\r\n                          ><v-icon\r\n                            :class=\"\r\n                              `pr-2${\r\n                                feeling !== 'dislike'\r\n                                  ? ' grey--text text--darken-1'\r\n                                  : ''\r\n                              }`\r\n                            \"\r\n                            >mdi-thumb-down</v-icon\r\n                          >\r\n                          {{ video.dislikes }}</v-btn\r\n                        >\r\n                        <v-btn\r\n                          :href=\"`${url}/uploads/videos/${video.url}`\"\r\n                          text\r\n                          class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-download</v-icon> Download</v-btn\r\n                        >\r\n                        <!-- <v-btn text class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-share</v-icon> Share</v-btn\r\n                        >\r\n                        <v-btn text class=\"grey--text text--darken-1\"\r\n                          ><v-icon>mdi-playlist-plus</v-icon> Save</v-btn\r\n                        > -->\r\n                      </v-card-actions>\r\n                    </div>\r\n                  </v-card>\r\n\r\n                  <v-row class=\"justify-space-between\">\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"5\" lg=\"5\">\r\n                      <v-card class=\"transparent\" flat>\r\n                        <v-list-item three-line>\r\n                          <v-list-item-avatar\r\n                            v-if=\"typeof video.userId !== 'undefined'\"\r\n                            size=\"50\"\r\n                          >\r\n                            <img\r\n                              v-if=\"video.userId.photoUrl !== 'no-photo.jpg'\"\r\n                              :src=\"\r\n                                `${getUrl}/uploads/avatars/${video.userId.photoUrl}`\r\n                              \"\r\n                              :alt=\"`${video.userId.channelName} avatar`\"\r\n                            />\r\n                            <v-avatar v-else color=\"red\">\r\n                              <span class=\"white--text headline \">\r\n                                {{\r\n                                  video.userId.channelName\r\n                                    .split('')[0]\r\n                                    .toUpperCase()\r\n                                }}</span\r\n                              >\r\n                            </v-avatar>\r\n                          </v-list-item-avatar>\r\n                          <v-list-item-content\r\n                            v-if=\"video.userId\"\r\n                            class=\"align-self-auto\"\r\n                          >\r\n                            <v-list-item-title\r\n                              class=\"font-weight-medium mb-1\"\r\n                              >{{ video.userId.channelName }}</v-list-item-title\r\n                            >\r\n                            <v-list-item-subtitle\r\n                              >{{ video.userId.subscribers }} subscribers\r\n                            </v-list-item-subtitle>\r\n                          </v-list-item-content>\r\n                        </v-list-item>\r\n                      </v-card>\r\n                    </v-col>\r\n                    <v-col cols=\"12\" sm=\"6\" md=\"4\" lg=\"4\">\r\n                      <div\r\n                        class=\"d-flex justify-end align-center\"\r\n                        v-if=\"typeof video.userId !== 'undefined'\"\r\n                      >\r\n                        <v-btn\r\n                          v-if=\"\r\n                            currentUser && video.userId._id !== currentUser._id\r\n                          \"\r\n                          :class=\"[\r\n                            { 'red white--text': !subscribed },\r\n                            {\r\n                              'grey grey--text lighten-3 text--darken-3': subscribed\r\n                            },\r\n                            'mt-6'\r\n                          ]\"\r\n                          tile\r\n                          large\r\n                          depressed\r\n                          :loading=\"subscribeLoading\"\r\n                          @click=\"subscribe\"\r\n                          >{{ !subscribed ? 'subscribe' : 'subscribed' }}</v-btn\r\n                        >\r\n\r\n                        <v-btn\r\n                          v-else-if=\"showSubBtn\"\r\n                          :class=\"[\r\n                            { 'red white--text': !subscribed },\r\n                            {\r\n                              'grey grey--text lighten-3 text--darken-3': subscribed\r\n                            },\r\n                            'mt-6'\r\n                          ]\"\r\n                          tile\r\n                          large\r\n                          depressed\r\n                          :loading=\"subscribeLoading\"\r\n                          @click=\"subscribe\"\r\n                          >{{ !subscribed ? 'subscribe' : 'subscribed' }}</v-btn\r\n                        >\r\n\r\n                        <!-- <v-btn\r\n                          v-if=\"\r\n                            video.userId && video.userId._id !== currentUser._id\r\n                          \"\r\n                          :class=\"[\r\n                            { 'red white--text': !subscribed },\r\n                            {\r\n                              'grey grey--text lighten-3 text--darken-3': subscribed\r\n                            },\r\n                            'mt-6'\r\n                          ]\"\r\n                          tile\r\n                          large\r\n                          depressed\r\n                          :loading=\"subscribeLoading\"\r\n                          @click=\"subscribe\"\r\n                          >{{ !subscribed ? 'subscribe' : 'subscribed' }}</v-btn\r\n                        > -->\r\n                        <!-- <v-btn icon class=\"ml-5 mt-6\"\r\n                          ><v-icon>mdi-bell</v-icon></v-btn\r\n                        > -->\r\n                      </div>\r\n                    </v-col>\r\n                    <v-col class=\"pl-11\" offset=\"1\" cols=\"11\" md=\"11\">\r\n                      <p>\r\n                        {{\r\n                          truncate\r\n                            ? truncateText(video.description, 150)\r\n                            : video.description\r\n                        }}\r\n                      </p>\r\n                      <v-btn text @click=\"show\" class=\"remove-hover-bg\"\r\n                        >Show More</v-btn\r\n                      >\r\n                    </v-col>\r\n                  </v-row>\r\n                </div>\r\n              </v-skeleton-loader>\r\n\r\n              <v-row>\r\n                <v-col v-if=\"video && video.status === 'public'\">\r\n                  <p class=\"mb-0\">{{ video.comments }} Comments</p>\r\n\r\n                  <AddComment\r\n                    @videoCommentLength=\"video.comments++\"\r\n                    :videoId=\"video._id\"\r\n                  />\r\n                  <CommentList\r\n                    @videoCommentLength=\"video.comments--\"\r\n                    :videoId=\"video._id\"\r\n                  />\r\n                </v-col>\r\n              </v-row>\r\n            </v-col>\r\n\r\n            <v-col cols=\"12\" sm=\"12\" md=\"4\" lg=\"4\">\r\n              <hr class=\"grey--text\" />\r\n              <h4 class=\"mb-3 mt-3\">Up next</h4>\r\n              <div\r\n                v-for=\"(video, i) in loading ? 12 : videos\"\r\n                :key=\"i\"\r\n                class=\"mb-5\"\r\n              >\r\n                <v-skeleton-loader\r\n                  class=\"mx-auto\"\r\n                  type=\"list-item-avatar-three-line\"\r\n                  :loading=\"loading\"\r\n                  tile\r\n                  large\r\n                >\r\n                  <v-card\r\n                    class=\"card\"\r\n                    tile\r\n                    flat\r\n                    v-if=\"!loading\"\r\n                    :to=\"`/watch/${video._id}`\"\r\n                  >\r\n                    <v-row no-gutters>\r\n                      <v-col class=\"mx-auto\" cols=\"12\" sm=\"12\" md=\"5\" lg=\"5\">\r\n                        <!-- <v-responsive max-height=\"100%\"> -->\r\n                        <v-img\r\n                          class=\"align-center\"\r\n                          height=\"110\"\r\n                          :src=\"\r\n                            `${url}/uploads/thumbnails/${video.thumbnailUrl}`\r\n                          \"\r\n                        >\r\n                        </v-img>\r\n                        <!-- </v-responsive> -->\r\n                      </v-col>\r\n                      <v-col>\r\n                        <div class=\"ml-2\">\r\n                          <v-card-title\r\n                            class=\"pl-2 pt-0 subtitle-1 font-weight-bold\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ video.title }}\r\n                          </v-card-title>\r\n\r\n                          <v-card-subtitle\r\n                            class=\"pl-2 pt-2 pb-0\"\r\n                            style=\"line-height: 1\"\r\n                          >\r\n                            {{ video.userId.channelName }}<br />\r\n                            {{ video.views }} views<v-icon\r\n                              >mdi-circle-small</v-icon\r\n                            >\r\n                            {{ dateFormatter(video.createdAt) }}\r\n                          </v-card-subtitle>\r\n                        </div>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-card>\r\n                </v-skeleton-loader>\r\n              </div>\r\n              <!-- <v-col cols=\"12\" sm=\"12\" md=\"12\" lg=\"12\"> -->\r\n              <infinite-loading :identifier=\"infiniteId\" @infinite=\"getVideos\">\r\n                <div slot=\"spinner\">\r\n                  <v-progress-circular\r\n                    indeterminate\r\n                    color=\"red\"\r\n                  ></v-progress-circular>\r\n                </div>\r\n                <div slot=\"no-results\"></div>\r\n                <span slot=\"no-more\"></span>\r\n                <div slot=\"error\" slot-scope=\"{ trigger }\">\r\n                  <v-alert prominent type=\"error\">\r\n                    <v-row align=\"center\">\r\n                      <v-col class=\"grow\">\r\n                        <div class=\"title\">Error!</div>\r\n                        <div>\r\n                          Something went wrong, but don’t fret — let’s give it\r\n                          another shot.\r\n                        </div>\r\n                      </v-col>\r\n                      <v-col class=\"shrink\">\r\n                        <v-btn @click=\"trigger\">Take action</v-btn>\r\n                      </v-col>\r\n                    </v-row>\r\n                  </v-alert>\r\n                </div>\r\n              </infinite-loading>\r\n              <!-- </v-col> -->\r\n            </v-col>\r\n          </v-row>\r\n        </v-col>\r\n      </v-row>\r\n    </v-container>\r\n    <signin-modal\r\n      :openModal=\"signinDialog\"\r\n      :details=\"details\"\r\n      @closeModal=\"signinDialog = false\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport moment from 'moment'\r\nimport { mapGetters } from 'vuex'\r\nimport InfiniteLoading from 'vue-infinite-loading'\r\n\r\nimport VideoService from '@/services/VideoService'\r\nimport SubscriptionService from '@/services/SubscriptionService'\r\nimport FeelingService from '@/services/FeelingService'\r\nimport HistoryService from '@/services/HistoryService'\r\n\r\nimport SigninModal from '@/components/SigninModal'\r\nimport AddComment from '@/components/comments/AddComment'\r\nimport CommentList from '@/components/comments/CommentList'\r\n\r\nexport default {\r\n  data: () => ({\r\n    loading: false,\r\n    loaded: false,\r\n    errored: false,\r\n    videoLoading: true,\r\n    subscribed: false,\r\n    subscribeLoading: false,\r\n    showSubBtn: true,\r\n    feeling: '',\r\n    video: {},\r\n    videoId: '',\r\n    videos: [],\r\n    page: 1,\r\n    infiniteId: +new Date(),\r\n    truncate: true,\r\n    url: process.env.VUE_APP_URL,\r\n    signinDialog: false,\r\n    details: {}\r\n  }),\r\n  computed: {\r\n    ...mapGetters(['currentUser', 'getUrl', 'isAuthenticated'])\r\n  },\r\n  methods: {\r\n    async getVideo(id) {\r\n      this.errored = false\r\n      this.videoLoading = true\r\n      this.video = {}\r\n      try {\r\n        const video = await VideoService.getById(id)\r\n\r\n        if (!video) return this.$router.push('/')\r\n        this.video = video.data.data\r\n      } catch (err) {\r\n        this.errored = true\r\n        console.log(err)\r\n      } finally {\r\n        this.videoLoading = false\r\n        this.checkSubscription(this.video.userId._id)\r\n        this.checkFeeling(this.video._id)\r\n      }\r\n      if (this.currentUser && this.currentUser._id === this.video.userId._id) {\r\n        this.showSubBtn = false\r\n      } else {\r\n        this.showSubBtn = true\r\n      }\r\n\r\n      if (!this.isAuthenticated) return\r\n\r\n      if (\r\n        this.video.userId._id.toString() !== this.currentUser._id.toString() &&\r\n        this.video.status !== 'public'\r\n      )\r\n        return this.$router.push('/')\r\n\r\n      const data = {\r\n        type: 'watch',\r\n        videoId: this.video._id\r\n      }\r\n\r\n      await HistoryService.createHistory(data).catch((err) => console.log(err))\r\n    },\r\n    async getVideos($state) {\r\n      this.errored = false\r\n      if (!this.loaded) {\r\n        this.loading = true\r\n      }\r\n      const videos = await VideoService.getAll('public', { page: this.page })\r\n        .catch((err) => {\r\n          console.log(err)\r\n          this.errored = true\r\n        })\r\n        .finally(() => (this.loading = false))\r\n\r\n      if (typeof videos === 'undefined') return\r\n\r\n      if (videos.data.data.length) {\r\n        this.page += 1\r\n\r\n        this.videos.push(...videos.data.data)\r\n        if ($state) {\r\n          $state.loaded()\r\n        }\r\n\r\n        this.loaded = true\r\n      } else {\r\n        if ($state) {\r\n          $state.complete()\r\n        }\r\n      }\r\n    },\r\n    async checkSubscription(id) {\r\n      if (!this.isAuthenticated) return\r\n\r\n      this.loading = true\r\n      const sub = await SubscriptionService.checkSubscription({ channelId: id })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!sub) return\r\n\r\n      if (!sub.data.data._id) this.subscribed = false\r\n      else this.subscribed = true\r\n    },\r\n    async checkFeeling(id) {\r\n      if (!this.isAuthenticated) return\r\n\r\n      this.loading = true\r\n      const feeling = await FeelingService.checkFeeling({ videoId: id })\r\n        .catch((err) => {\r\n          console.log(err)\r\n        })\r\n        .finally(() => {\r\n          this.loading = false\r\n        })\r\n\r\n      if (!feeling) return\r\n\r\n      if (feeling.data.data.feeling === 'like') this.feeling = 'like'\r\n      else if (feeling.data.data.feeling === 'dislike') this.feeling = 'dislike'\r\n    },\r\n    async createFeeling(type) {\r\n      if (!this.isAuthenticated) {\r\n        this.signinDialog = true\r\n        this.details = {\r\n          title:\r\n            type === 'like' ? 'Like this video?' : \"Don't like this video?\",\r\n          text: 'Sign in to make your opinion count.'\r\n        }\r\n        return\r\n      }\r\n      switch (true) {\r\n        case type === 'like' && this.feeling === '':\r\n          this.feeling = 'like'\r\n          this.video.likes++\r\n          // console.log('new like')\r\n          break\r\n        case type === 'like' && this.feeling === type:\r\n          this.feeling = ''\r\n          this.video.likes--\r\n          // console.log('remove like')\r\n          break\r\n        case type === 'like' && this.feeling === 'dislike':\r\n          this.feeling = 'like'\r\n          this.video.dislikes--\r\n          this.video.likes++\r\n          // console.log('change to like')\r\n          break\r\n        case type === 'dislike' && this.feeling === '':\r\n          this.feeling = 'dislike'\r\n          this.video.dislikes++\r\n          // console.log('new dislike')\r\n          break\r\n        case type === 'dislike' && this.feeling === type:\r\n          this.feeling = ''\r\n          this.video.dislikes--\r\n          // console.log('remove dislike')\r\n          break\r\n        case type === 'dislike' && this.feeling === 'like':\r\n          this.feeling = 'dislike'\r\n          this.video.likes--\r\n          this.video.dislikes++\r\n        // console.log('change to dislike')\r\n      }\r\n\r\n      const feeling = await FeelingService.createFeeling({\r\n        videoId: this.video._id,\r\n        type\r\n      }).catch((err) => {\r\n        console.log(err)\r\n      })\r\n\r\n      if (!feeling) return\r\n    },\r\n    async subscribe() {\r\n      if (!this.isAuthenticated) {\r\n        this.signinDialog = true\r\n        this.details = {\r\n          title: 'Want to subscribe to this channel?',\r\n          text: 'Sign in to subscribe to this channel.'\r\n        }\r\n        return\r\n      }\r\n      this.subscribeLoading = true\r\n      const sub = await SubscriptionService.createSubscription({\r\n        channelId: this.video.userId._id\r\n      })\r\n        .catch((err) => console.log(err))\r\n        .finally(() => {\r\n          this.subscribeLoading = false\r\n        })\r\n\r\n      if (!sub) return\r\n\r\n      if (!sub.data.data._id) {\r\n        this.subscribed = false\r\n        this.video.userId.subscribers--\r\n      } else {\r\n        this.subscribed = true\r\n        this.video.userId.subscribers++\r\n      }\r\n    },\r\n    async updateViews(id) {\r\n      const views = await VideoService.updateViews(id).catch((err) => {\r\n        console.log(err)\r\n      })\r\n      if (!views) return\r\n\r\n      this.video.views++\r\n    },\r\n    play(e) {\r\n      console.log(e)\r\n    },\r\n    actions() {\r\n      this.getVideo()\r\n    },\r\n    show(event) {\r\n      if (event.target.innerText === 'SHOW MORE') {\r\n        this.truncate = false\r\n        event.target.innerText = 'SHOW LESS'\r\n      } else {\r\n        this.truncate = true\r\n        event.target.innerText = 'SHOW MORE'\r\n      }\r\n    },\r\n    truncateText(string = '', num) {\r\n      if (string.length <= num) {\r\n        return string\r\n      }\r\n      return string.slice(0, num)\r\n    },\r\n    dateFormatter(date) {\r\n      return moment(date).fromNow()\r\n    }\r\n  },\r\n  components: {\r\n    AddComment,\r\n    CommentList,\r\n    SigninModal,\r\n    InfiniteLoading\r\n  },\r\n  mounted() {\r\n    this.getVideo(this.$route.params.id)\r\n    if (this.isAuthenticated) this.updateViews(this.$route.params.id)\r\n  },\r\n  beforeRouteUpdate(to, from, next) {\r\n    this.page = 1\r\n    ;(this.loading = false), (this.loaded = false), (this.videos = [])\r\n    this.infiniteId += 1\r\n    this.getVideo(to.params.id)\r\n    next()\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\nvideo {\r\n  max-width: 100%;\r\n}\r\n\r\n.grey-color {\r\n  color: #7f7f7f !important;\r\n}\r\n\r\n#btns {\r\n  border-bottom: 1px solid #e0d8d8;\r\n}\r\n\r\nbutton.v-btn.remove-hover-bg {\r\n  background-color: initial !important;\r\n  &:hover {\r\n    background-color: #f9f9f9;\r\n  }\r\n}\r\n</style>\r\n"]}]}